[üá®üá≥](/README-cn.md "Simplified Chinese")
[üáØüáµ](/README-ja.md "Japanese")
[üáÆüáπ](/README-it.md "Italian")
[üá∞üá∑](/README-ko.md "Korean")
[üá∑üá∫](/README-ru.md "Russian")

[![license](https://img.shields.io/badge/license-BSD--3--Clause-blue.svg)](https://img.shields.io/badge/license-BSD--3--Clause-blue.svg)

# –ò–Ω—Ç—Ä–æ
–ö—Ä–∞—Ç–∫–æ–µ –≤–≤–µ–¥–µ–Ω–∏–µ –≤ –≤–∏–¥–µ–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤ –∏ –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤, —Ö–æ—Ç—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –¥–∞–Ω–Ω–æ–º –º–∞—Ç–µ—Ä–∏–∞–ª–µ –±—É–¥–µ—Ç –ø–æ–Ω—è—Ç–Ω–∞ **–ª—é–±–æ–º—É**. –≠—Ç–∞ –∏–¥–µ—è —Ä–æ–¥–∏–ª–∞—Å—å –≤–æ –≤—Ä–µ–º—è [–º–∏–Ω–∏-—Å–µ–º–∏–Ω–∞—Ä–∞ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤ –≤ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–µ–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π](https://docs.google.com/presentation/d/17Z31kEkl_NGJ0M66reqr9_uTG6tI5EDDVXpdPKVuIrs/edit#slide=id.p).

–¶–µ–ª—å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ **–ø—Ä–æ—Å—Ç—ã–º–∏ —Ç–µ—Ä–º–∏–Ω–∞–º–∏, —Å—Ö–µ–º–∞–º–∏ –∏ –ø—Ä–∞–∫—Ç–∏–∫–æ–π**. –ù–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞.

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑–¥–µ–ª—ã** —Ç—Ä–µ–±—É—é—Ç —á—Ç–æ–±—ã —É –≤–∞—Å –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω **docker** –∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω —ç—Ç–æ—Ç —Ä–µ–ø–æ.

```bash
git clone https://github.com/leandromoreira/digital_video_introduction.git
cd digital_video_introduction
./setup.sh
```

> **–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï**: –∫–æ–≥–¥–∞ –≤—ã –≤–∏–¥–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `./s/ffmpeg` –∏–ª–∏ `./s/mediainfo`, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º **–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—É—é –≤–µ—Ä—Å–∏—é** —ç—Ç–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.

–í—Å–µ **–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∏–∑ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–∞–ø–∫–∏**. –î–ª—è **–ø—Ä–∏–º–µ—Ä–æ–≤ jupyter** –≤—ã –¥–æ–ª–∂–Ω—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä `./s/start_jupyter.sh`, –∏ –ø–æ—Å–µ—Ç–∏—Ç—å URL –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

# Changelog

* added DRM system
* released version 1.0.0
* added simplified Chinese translation

# –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–ò–Ω—Ç—Ä–æ](#–∏–Ω—Ç—Ä–æ)
- [–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ](#–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ)
- [–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã](#–æ—Å–Ω–æ–≤–Ω—ã–µ-—Ç–µ—Ä–º–∏–Ω—ã)
  * [–î—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —Ü–≤–µ—Ç–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è](#–¥—Ä—É–≥–∏–µ-—Å–ø–æ—Å–æ–±—ã-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
  * [–ü—Ä–∞–∫—Ç–∏–∫–∞: —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–µ–º —Ü–≤–µ—Ç–∞–º–∏ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏](#–ø—Ä–∞–∫—Ç–∏–∫–∞-–µ–∫—Å–ø–µ—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–µ–º-—Ü–≤–µ—Ç–∞–º–∏-–∏-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏)
  * [DVD —ç—Ç–æ DAR 4:3](#dvd-—ç—Ç–æ-dar-43)
  * [–ü—Ä–∞–∫—Ç–∏–∫–∞: –†–∞—Å—Å–º–æ—Ç—Ä —Å–≤–æ–π—Å–≤—Ç–≤–∞ –≤–∏–¥–µ–æ](#–ø—Ä–∞–∫—Ç–∏–∫–∞-—Ä–∞—Å—Å–º–æ—Ç—Ä-—Å–≤–æ–π—Å–≤—Ç–≤–∞-–≤–∏–¥–µ–æ)
- [–£–¥–∞–ª–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏](#—É–¥–∞–ª–µ–Ω–∏–µ-–∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏)
  * [–¶–≤–µ—Ç–∞, —è—Ä–∫–æ—Å—Ç—å –∏ –≥–ª–∞–∑–∞](#—Ü–≤–µ—Ç–∞-—è—Ä–∫–æ—Å—Ç—å-–∏-–≥–ª–∞–∑–∞)
    + [–ú–æ–¥–µ–ª—å —Ü–≤–µ—Ç–∞](#–º–æ–¥–µ–ª—å-—Ü–≤–µ—Ç–∞)
    + [–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É YCbCr –∏ RGB](#–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ-–º–µ–∂–¥—É-ycbcr-–∏-rgb)
    + [–¶–≤–µ—Ç–æ–≤–∞—è –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏—è](#—Ü–≤–µ—Ç–æ–≤–∞—è-–¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏—è)
    + [–ü—Ä–∞–∫—Ç–∏–∫–∞: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã YCbCr](#–ø—Ä–∞–∫—Ç–∏–∫–∞-–ø—Ä–æ–≤–µ—Ä–∫–∞-–≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã-ycbcr)
  * [–¢–∏–ø—ã –∫–∞–¥—Ä–æ–≤](#—Ç–∏–ø—ã-–∫–∞–¥—Ä–æ–≤)
    + [I –∫–∞–¥—Ä (–∏–Ω—Ç—Ä–∞, –∫–ª—é—á–µ–≤–æ–π –∫–∞–¥—Ä)](#i-–∫–∞–¥—Ä-–∏–Ω—Ç—Ä–∞-–∫–ª—é—á–µ–≤–æ–π-–∫–∞–¥—Ä)
    + [P –∫–∞–¥—Ä (–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–π)](#p-–∫–∞–¥—Ä-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–π)
      - [–ü—Ä–∞–∫—Ç–∏–∫–∞: –í–∏–¥–µ–æ —Å –µ–¥–∏–Ω—ã–º I-–∫–∞–¥—Ä–æ–º](#–ø—Ä–∞–∫—Ç–∏–∫–∞-–≤–∏–¥–µ–æ-—Å-–µ–¥–∏–Ω—ã–º-i-–∫–∞–¥—Ä–æ–º)
    + [B –∫–∞–¥—Ä (–¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è)](#b-–∫–∞–¥—Ä-–¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è)
      - [–ü—Ä–∞–∫—Ç–∏–∫–∞: –°—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ —Å –ë-–∫–∞–¥—Ä–∞–º–∏](#–ø—Ä–∞–∫—Ç–∏–∫–∞-—Å—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ-–≤–∏–¥–µ–æ-—Å-–±-–∫–∞–¥—Ä–∞–º–∏)
    + [–ö–æ–Ω—Å–ø–µ–∫—Ç](#–∫–æ–Ω—Å–ø–µ–∫—Ç)
  * [–í—Ä–µ–º–µ–Ω–Ω–∞—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å (–º–µ–∂ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ)](#–≤—Ä–µ–º–µ–Ω–Ω–∞—è-–∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å-–º–µ–∂-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ)
      - [–ü—Ä–∞–∫—Ç–∏–∫–∞: –û–±–∑–æ—Ä –≤–µ–∫—Ç–æ—Ä–æ–≤ –¥–≤–∏–∂–µ–Ω–∏—è](#–ø—Ä–∞–∫—Ç–∏–∫–∞-–æ–±–∑–æ—Ä-–≤–µ–∫—Ç–æ—Ä–æ–≤-–¥–≤–∏–∂–µ–Ω–∏—è)
  * [–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ)](#–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è-–∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å-–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ)
      - [–ü—Ä–∞–∫—Ç–∏–∫–∞: –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π](#–ø—Ä–∞–∫—Ç–∏–∫–∞-–ø—Ä–æ–≤–µ—Ä–∫–∞-–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π)
- [–ö–∞–∫ –¥–µ–π—Å—Ç–≤—É–µ—Ç –≤–∏–¥–µ–æ –∫–æ–¥–µ–∫?](#–∫–∞–∫-–¥–µ–π—Å—Ç–≤—É–µ—Ç-–≤–∏–¥–µ–æ-–∫–æ–¥–µ–∫)
  * [–ß—Ç–æ? –ü–æ—á–µ–º—É? –ö–∞–∫?](#—á—Ç–æ-–ø–æ—á–µ–º—É-–∫–∞–∫)
  * [–ò—Å—Ç–æ—Ä–∏—è](#–∏—Å—Ç–æ—Ä–∏—è)
    + [–†–æ–∂–¥–µ–Ω–∏–µ AV1](#—Ä–æ–∂–¥–µ–Ω–∏–µ-av1)
  * [–û–±—â–∏–π –∫–æ–¥–µ–∫](#–æ–±—â–∏–π-–∫–æ–¥–µ–∫)
  * [1-–π —à–∞–≥ - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è](#1-–π-—à–∞–≥---—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
    + [–ü—Ä–∞–∫—Ç–∏–∫–∞: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–¥–µ–ª–æ–≤](#–ø—Ä–∞–∫—Ç–∏–∫–∞-–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ä–∞–∑–¥–µ–ª–æ–≤)
  * [2-–π —à–∞–≥ - –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è](#2-–π-—à–∞–≥---–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è)
  * [3-–π —à–∞–≥ - —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è](#3-–π-—à–∞–≥---—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è)
    + [–ü—Ä–∞–∫—Ç–∏–∫–∞: –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤](#–ø—Ä–∞–∫—Ç–∏–∫–∞-–≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ-—Ä–∞–∑–Ω—ã—Ö-–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤)
  * [4-–π —à–∞–≥ - –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ](#4-–π-—à–∞–≥---–∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ)
    + [–ü—Ä–∞–∫—Ç–∏–∫–∞: –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ](#–ø—Ä–∞–∫—Ç–∏–∫–∞-–∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ)
  * [5-–π —à–∞–≥ - —ç–Ω—Ç—Ä–æ–ø–∏–π–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ](#5-–π-—à–∞–≥---—ç–Ω—Ç—Ä–æ–ø–∏–π–Ω–æ–µ-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ)
    + [VLC-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ](#vlc-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ)
    + [–ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ](#–∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ)
    + [–ü—Ä–∞–∫—Ç–∏–∫–∞: CABAC vs CAVLC](#–ø—Ä–∞–∫—Ç–∏–∫–∞-cabac-vs-cavlc)
  * [6-–π —à–∞–≥ - —Ñ–æ—Ä–º–∞—Ç –±–∏—Ç–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞](#6-–π-—à–∞–≥---—Ñ–æ—Ä–º–∞—Ç-–±–∏—Ç–æ–≤–æ–≥–æ-–ø–æ—Ç–æ–∫–∞)
    + [H.264 –±–∏—Ç–æ–≤—ã–π –ø–æ—Ç–æ–∫](#h264-–±–∏—Ç–æ–≤—ã–π-–ø–æ—Ç–æ–∫)
    + [–ü—Ä–∞–∫—Ç–∏–∫–∞: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏—Ç–æ–≤–æ–≥–∞ –ø–æ—Ç–æ–∫–∞ H.264](#–ø—Ä–∞–∫—Ç–∏–∫–∞-–ø—Ä–æ–≤–µ—Ä–∫–∞-–±–∏—Ç–æ–≤–æ–≥–∞-–ø–æ—Ç–æ–∫–∞-h264)
  * [–û–±–∑–æ—Ä](#o–±–∑–æ—Ä)
  * [–ö–∞–∫ H.265 –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ª—É—á—à—É—é —Å—Ç–µ–ø–µ–Ω—å —Å–∂–∞—Ç–∏—è —á–µ–º H.264?](#–∫–∞–∫-h265-–æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç-–ª—É—á—à—É—é-—Å—Ç–µ–ø–µ–Ω—å-—Å–∂–∞—Ç–∏—è-—á–µ–º-h264)
- [–û–Ω–ª–∞–π–Ω —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è](#–æ–Ω–ª–∞–π–Ω-—Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è)
  * [–û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–æ–±—â–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
  * [–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞](#–ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è-–∑–∞–≥—Ä—É–∑–∫–∞-–∏-–∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è-–ø–µ—Ä–µ–¥–∞—á–∞)
  * [–ó–∞—â–∏—Ç–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞](#–∑–∞—â–∏—Ç–∞-–∫–æ–Ω—Ç–µ–Ω—Ç–∞)
- [–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å jupyter](#–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-jupyter)
- [–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏](#–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏)
- [–°—Å—ã–ª–∫–∏](#—Å—Å—ã–ª–∫–∏)

# –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã

**–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –≤ —Ñ–æ—Ä–º–µ **2–î –º–∞—Ç—Ä–∏—Ü—ã**. –ï—Å–ª–∏ –º—ã –¥—É–º–∞–µ–º –æ **—Ü–≤–µ—Ç–∞—Ö**, —Ç–æ –º–æ–∂–Ω–æ —ç–∫—Å—Ç—Ä–∞–ø–æ–ª–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤ **3–î –º–∞—Ç—Ä–∏—Ü—É**, –≥–¥–µ **–¥–æ–±–∞–≤–æ—á–Ω—ã–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è** –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç **—Ü–≤–µ—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é**.

–ï—Å–ª–∏ –º—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º —ç—Ç–∏ —Ü–≤–µ—Ç–∞ [–ø–µ—Ä–≤–∏—á–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏ (–∫—Ä–∞—Å–Ω—ã–π, –∑–µ–ª–µ–Ω—ã–π, —Å–∏–Ω–∏–π)](https://en.wikipedia.org/wiki/Primary_color), –º—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç—Ä–∏ —É—Ä–æ–≤–Ω—è, –æ–¥–∏–Ω –¥–ª—è **–∫—Ä–∞—Å–Ω–æ–≥–æ**, –æ–¥–∏–Ω –¥–ª—è **–∑–µ–ª–µ–Ω–æ–≥–æ**, –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–ª—è **—Å–∏–Ω–µ–≥–æ**.

![–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç—Ç–æ 3–î –º–∞—Ç—Ä–∏—Ü–∞](/i/image_3d_matrix_rgb.png "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —ç—Ç–æ 3–î –º–∞—Ç—Ä–∏—Ü–∞")

–ú—ã –Ω–∞–∑–æ–≤–µ–º –∫–∞–∂–¥—É—é —Ç–æ—á–∫—É –Ω–∞ —ç—Ç–æ–π –º–∞—Ç—Ä–∏—Ü—ã **–ø–∏–∫—Å–µ–ª–µ–º** (—ç–ª–µ–º–µ–Ω—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è). –û–¥–∏–Ω –ø–∏–∫—Å–µ–ª –æ—Ç—Ä–∞–∂–∞–µ—Ç **–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å** (–æ–±—ã—á–Ω–æ —á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ) –¥–∞–Ω–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, **–∫—Ä–∞—Å–Ω—ã–π –ø–∏–∫—Å–µ–ª—å** –∏–º–µ–µ—Ç 0 –∑–µ–ª–µ–Ω–æ–≥–æ, 0 —Å–∏–Ω–µ–≥–æ, –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∫—Ä–∞—Å–Ω–æ–≥–æ. **–†–æ–∑–æ–≤—ã–π –ø–∏–∫—Å–µ–ª—å** —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ç—Ä–µ—Ö —Ü–≤–µ—Ç–æ–≤ - **–ö—Ä–∞—Å–Ω—ã–π=255, –ó–µ–ª–µ–Ω—ã–π=192, –°–∏–Ω–∏–∏–π=203**.

> #### –î—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
> –°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–∏–π –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å–æ–≤–∞—é—Ç –∫–∞–∫ —Ä–∞—Å–ø–ø—Ä–µ–¥–µ–ª—è—é—Ç—å—Å—è —Ü–≤–µ—Ç–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –º–µ—Å—Ç–æ —Ç—Ä–µ—Ö –±–∏—Ç–æ–≤, –∫–∞–∫ –¥–ª—è –º–æ–¥–µ–ª–∏ RGB (–ö—Ä–∞—Å–Ω—ã–π, –ó–µ–ª–µ–Ω—ã–π, –°–∏–Ω–∏–π) –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –±–∏—Ç. –≠—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –º–µ–Ω—å—à–µ –ø–∞–º—è–∞—Ç–∏, –Ω–æ —Ç–∞–∫ –∂–µ –¥–∞–µ—Ç –º–µ–Ω—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–≤–µ—Ç–æ–≤.

>
> ![—Å–±–æ—Ä —Ü–≤–µ—Ç–æ–≤ –ø—Ä–∏—Å—Ç–∞–≤–∫–∏ NES](/i/nes-color-palette.png "—Å–±–æ—Ä —Ü–≤–µ—Ç–æ–≤ –ø—Ä–∏—Å—Ç–∞–≤–∫–∏ NES")

–ù–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ —Å–Ω–∏–∑—É, –ø–µ—Ä–≤—ã–π —Å–Ω–∏–º–æ–∫ –æ—Ç—Ä–∞–∂–∞–µ—Ç –≤—Å–µ —Ü–≤–µ—Ç–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã. –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–Ω–∏–º–∫–∏ —Ç–æ–ª—å–∫–æ –æ—Ç—Ä–∞–∂–∞—é—Ç –∫—Ä–∞—Å–Ω—ã–π, –∑–µ–ª–µ–Ω—ã–π –∏ —Å–∏–Ω–∏–π –∫–∞–Ω–∞–ª.

![–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å RGB –∫–∞–Ω–∞–ª–æ–≤](/i/rgb_channels_intensity.png "–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å RGB –∫–∞–Ω–∞–ª–æ–≤")

–ú—ã –≤–∏–¥–∏–º —á—Ç–æ **–∫—Ä–∞—Å–Ω—ã–π –∫–∞–Ω–∞–ª** –±—É–¥–µ—Ç —Å–∞–º—ã–º —è—Ä–∫–∏–º (–±–µ–ª—ã–µ —á–∞—Å—Ç–∏ –≤—Ç–æ—Ä–æ–≥–æ –ª–∏—Ü–∞), –∏ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç –≥–ª–∞–≤–Ω–æ–º—É –æ—Ç—Ç–µ–Ω–∫—É –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ. **–°–∏–Ω–µ–≥–æ** –º–∞–ª–æ, –∏ –≤–∏–¥–Ω–æ –≤ —á–µ—Ç–≤–µ—Ä—Ç–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–µ, —á—Ç–æ –æ–Ω **—Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ –≥–ª–∞–∑–∞—Ö –∏ –æ–¥–µ–∂–¥—ã** –ú–∞—Ä–∏–æ. –¢–∞–∫ –∂–µ –≤–∏–¥–Ω–æ, —á—Ç–æ –≤—Å–µ –∫–∞–Ω–∞–ª—ã –º–∞–ª–æ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É—é—Ç —É—Å–∞–º, —Å–∞–º—ã–º —Ç–µ–º–Ω—ã–º —á–∞—Å—Ç—è–º –∫–∞—Ä—Ç–∏–Ω–∫–∏.

–£ –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏—Ç–æ–≤, —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–∞ **–±–∏—Ç–æ–≤–∞—è –≥–ª—É–±–∏–Ω–∞**. –ï—Å–ª–∏ —É –Ω–∞—Å **8 –±–∏—Ç–æ–≤** (–º–µ–∂–¥—É 0 –∏ 255–∏) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ü–≤–µ—Ç–∞, —Ç–æ –±–∏—Ç–æ–≤–∞—è –≥–ª—É–±–∏–Ω–∞ —É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π RGB (8 –±–∏—Ç * 3 —Ü–≤–µ—Ç–∞) –≤ —Ä–∞–∑–º–µ—Ä–µ **24 –±–∏—Ç–∞**, —Ç–æ –µ—Å—Ç—å 2^24 —Ä–∞–∑–Ω—ã—Ö —Ü–≤–µ—Ç–∞.

> **–•–æ—Ä–æ—à–æ –∑–Ω–∞—Ç—å** [–∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è –≤ –±–∏—Ç—ã](http://www.cambridgeincolour.com/tutorials/camera-sensors.htm).

–î—Ä—É–≥–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —ç—Ç–æ **—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ**, —Ç–æ –µ—Å—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏–∫—Å–µ–ª–µ–π –≤ –æ–¥–Ω–æ–º –∏–∑–º–µ—Ä–µ–Ω–∏–µ. –û–±—ã—á–Ω–æ –æ–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ —à–∏—Ä–∏–Ω–∞ —Ö –≤—ã—Å–æ—Ç–∞, –∫–∞–∫ –Ω–∞ **4—Ö4** –∫–∞—Ä—Ç–∏–Ω–∫–µ —Å–Ω–∏–∑—É.

![–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è](/i/resolution.png "–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è")

> #### –ü—Ä–∞–∫—Ç–∏–∫–∞: —ç–∫—Å–ø–µ—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–µ–º —Ü–≤–µ—Ç–∞–º–∏ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
> –ú–æ–∂–Ω–æ [–∏–≥—Ä–∞—Ç—å —Å —Ü–≤–µ—Ç–∞–º–∏ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–∞—Ö](/image_as_3d_array.ipynb) –∏—Å–ø–æ–ª—å–∑—É—è [jupyter](#how-to-use-jupyter) (python, numpy, matplotlib –∏ —Ç.–¥).
>
> –¢–∞–∫ –∂–µ –º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å [–∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Ñ–∏–ª—å—Ç—Ä—ã (—Ä–µ–∑–∫–æ—Å—Ç—å, —Ä–∞–∑–º—ã—Ç–æ—Å—Ç—å...)](/filters_are_easy.ipynb).

–ï—â–µ –∫–∞—á–µ—Å—Ç–≤–æ —Å –∫–æ—Ç–æ—Ä—ã–º –º—ã –≤—Å—Ç—Ä–µ—á–∞–µ–º—Å—è –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –≤–∏–¥–µ–æ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ —ç—Ç–æ **—Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω (AR)** –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–æ—Å—Ç–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ —à–∏—Ä–∏–Ω—ã —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–æ —Å –≤—ã—Å–æ—Ç–æ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–ª–∏ –ø–∏–∫—Å–µ–ª—è.

–ö–æ–≥–¥–∞ –ª—é–¥–∏ –≥–æ–≤–æ—Ä—è—Ç —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ —Ñ–∏–ª—å–º **16—Ö9**, –æ–Ω–∏ –Ω–∞–∑—ã–≤–∞—é—Ç —Ü–∏—Ñ—Ä—ã **DAR (–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω –¥–∏—Å–ø–ª–µ—è)**. –¢–∞–∫ –∂–µ –∏ –±—ã–≤–∞–µ—Ç **PAR (–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω –ø–∏–∫—Å–µ–ª—è)**

![DAR](/i/DAR.png "DAR")

![PAR](/i/PAR.png "PAR")

> #### DVD —ç—Ç–æ DAR 4:3
> 
> –•–æ—Ç—å —É DVD —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ 704—Ö480, —Ñ–æ—Ä–º–∞—Ç –≤—Å–µ —Ä–∞–≤–Ω–æ —Å–æ–±–ª—é–¥–∞–µ—Ç DAR 4:3 –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–µ–≥–æ PAR 10:11 (703x10/480x11)

–ò –∫–æ–Ω–µ—á–Ω–æ, "–≤–∏–¥–µ–æ" –º—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–∞–∫ **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å *n*-–∫–∞–¥—Ä–æ–≤** –≤–æ **–≤—Ä–µ–º–µ–Ω–∏**, —á—Ç–æ –º–æ–∂–Ω–æ –æ–±–æ–∑–Ω–∞—á–∏—Ç—å –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ –ø–æ–≤–µ—Ä—Ö—É —Ä–∞–∑–º–µ—Ä–∞ –∏ —Ü–≤–µ—Ç–∞, –≥–¥–µ *–ø* —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–¥—Ä–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É (FPS).

![–≤–∏–¥–µ–æ](/i/video.png "–≤–∏–¥–µ–æ")

**–±–∏—Ç—Ä–µ–π—Ç** —ç—Ç–æ —Å–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ –±–∏—Ç–æ–≤ —á—Ç–æ –±—ã –ø–æ–∫–∞–∑–∞—Ç—å —Å–µ–∫—É–Ω–¥—É –≤–∏–¥–µ–æ.

> –±–∏—Ç—Ä–µ–π—Ç = —à–∏—Ä–∏–Ω–∞ * –≤—ã—Å–æ—Ç–∞ * –±–∏—Ç–æ–≤–∞—è –≥–ª—É–±–∏–Ω–∞ * –∫–∞–¥—Ä—ã –≤ —Å–µ–∫—É–Ω–¥—É

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤–∏–¥–µ–æ –∫–æ—Ç–æ—Ä–æ–µ 30 FPS, 24 –±–∏—Ç–∞ –Ω–∞ –ø–∏–∫—Å–µ–ª, —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º 480—Ö240 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **82,944,000 –±–∏—Ç–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É** –∏–ª–∏ 82 –º–µ–≥–∞–±–∏—Ç–∞/—Å (30*480—Ö240—Ö24) –±–µ–∑ –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏/—Å–Ω–∏–∂–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞.

–ö–æ–≥–¥–∞ **–±–∏—Ç —Ä–µ–π—Ç** –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ç–æ –µ–≥–æ –Ω–∞–∑—ã–≤–∞—é—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º –±–∏—Ç—Ä–µ–π—Ç–æ–º (**CBR**), –∫–æ–≥–¥–∞ –æ–Ω –º–µ–Ω—è–µ—Ç—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º —Ç–æ–≥–¥–∞ —ç—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–π –±–∏—Ç—Ä–µ–π—Ç (**VBR**).

> –≠—Ç–æ—Ç –≥—Ä–∞—Ñ–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π VBR, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Ç—Ä–∞—Ç–∏—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –±–∏—Ç–æ–≤ –Ω–∞ —á–µ—Ä–Ω—ã–µ –∫–∞–¥—Ä—ã.
>
> ![–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π VBR](/i/vbr.png "–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π VBR")

–†–∞–Ω—å—à–µ, –∏–Ω–∂–µ–Ω–µ—Ä—ã –ø—Ä–∏–¥—É–º–∞–ª–∏ —Ç–µ—Ö–Ω–∏–∫—É, —á—Ç–æ –±—ã —É–≤–µ–ª–∏—á–∏—Ç—å –≤–æ—Å–ø—Ä–∏–Ω—è—Ç—ã–π FPS –≤ –¥–≤–∞ —Ä–∞–∑–∞ –ø—Ä–∏ —ç—Ç–æ–º **–Ω–µ —É–≤–µ–ª–∏—á–µ–Ω–∏—è –±–∏—Ç—Ä–µ–π—Ç**. –≠—Ç–∞ —Ç–µ—Ö–Ω–∏–∫–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **—á–µ—Ä–µ—Å—Å—Ç—Ä–æ—á–Ω–æ–µ –≤–∏–¥–µ–æ**, –≥–¥–µ –ø–æ–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ—Å—ã–ª–∞–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–º "–∫–∞–¥—Ä–µ" –∏ –¥—Ä—É–≥–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º "–∫–∞–¥—Ä–µ".

–°–µ–≥–æ–¥–Ω—è —ç–∫—Ä–∞–Ω—ã –æ–±—ã—á–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –≤–∏–¥–µ–æ —Ç–µ—Ö–Ω–∏–∫–æ–π **–ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ —Å–∫–∞–Ω–∞**. –≠—Ç–æ —Å–ø–æ—Å–æ–± –ø–æ–∫–∞–∑—ã–≤–∞–Ω–∏—è, —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –ø–µ—Ä–µ–≤–æ–¥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—Å–µ –ª–∏–Ω–∏–∏ –∫–∞–∂–¥–æ–≥–æ –∫–∞–¥—Ä–∞ –Ω–∞—Ä–∏—Å–æ–≤–∞–Ω—ã –æ–¥–Ω–∞ –∑–∞ –¥—Ä—É–≥–æ–π.

![—á–µ—Ä–µ—Å—Å—Ç—Ä–æ—á–Ω–æ–µ –≤–∏–¥–µ–æ –ø—Ä–æ—Ç–∏–≤ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Å–∫–∞–Ω](/i/interlaced_vs_progressive.png "—á–µ—Ä–µ—Å—Å—Ç—Ä–æ—á–Ω–æ–µ –≤–∏–¥–µ–æ –ø—Ä–æ—Ç–∏–≤ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Å–∫–∞–Ω")

–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≥–æ –∫–∞–∫ x—Ä–∞–Ω–∏—Ç—Å—è **–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ, –∫–∞–∫ –µ–≥–æ **—Ü–≤–µ—Ç–∞** —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã, —Å–∫–æ–ª—å–∫–æ **–±–∏—Ç–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É** –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —á—Ç–æ –±—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤–∏–¥–µ–æ, –µ—Å–ª–∏ —ç—Ç–æ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –±–∏—Ç—Ä–µ–π—Ç (CBR) –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–π –±–∏—Ç—Ä–µ–π—Ç (VBR), –∏ –∫–∞–∫ —ç—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å **—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º** –ø—Ä–∏ –¥–∞–Ω–Ω–æ–π **—á–∏—Å—Ç–æ—Ç–µ –∫–∞–¥—Ä–∞**. –¢–∞–∫ –∂–µ –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å —Ç–µ—Ä–º–∏–Ω–∞–º–∏ **—á–µ—Ä–µ—Å—Å—Ç—Ä–æ—á–Ω–æ–µ –≤–∏–¥–µ–æ**, PAR, –∏ —Ç.–¥. 

> #### –ü—Ä–∞–∫—Ç–∏–∫–∞: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–π—Å–≤—Ç–≤–∞ –≤–∏–¥–µ–æ
> –í—ã –º–æ–∂–µ—Ç–µ [—É–≤–∏–¥–µ—Ç—å –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –≤–∏–¥–µ–æ —Å –ø–æ–º–æ—â—å—é ffmpeg –∏–ª–∏ mediainfo.](https://github.com/leandromoreira/introduction_video_technology/blob/master/encoding_pratical_examples.md#inspect-stream)

# –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏

–°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–∏–¥–µ–æ –±–µ–∑ –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –≤–æ–∑–º–æ–∂–Ω–æ; **–æ–¥–∏–Ω —á–∞—Å –≤–∏–¥–µ–æ** –≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ 720p, —Å —á–∞—Å—Ç–æ—Ç–æ–π –∫–∞–¥—Ä–∞ 30fps –∑–∞–Ω–∏–º–∞–µ—Ç **278GB –ø–∞–º—è—Ç–∏<sup>*</sup>**. –ê–ª–≥–æ—Ä–∏—Ç–º—ã –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏ –±–µ–∑ –ø–æ—Ç–µ—Ä—å, –Ω–∞–ø–æ–¥–æ–±–∏–µ DEFLATE (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ PKZIP, Gzip, PNG) **–Ω–µ —Å–∂–∏–º–∞—é—Ç –≤–∏–¥–µ–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ**, –ø–æ—ç—Ç–æ–º—É –Ω–∞–º –Ω–∞–¥–æ –∏—Å–∫–∞—Ç—å –¥—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã —Å–∂–∞—Ç–∏—è –≤–∏–¥–µ–æ.

> <sup>*</sup> –≠—Ç—É —Ü–∏—Ñ—Ä—É –º—ã –ø–æ–ª—É—á–∞–µ–º —É–º–Ω–∞–∂–∞—è 1280 —Ö 720 —Ö 24 —Ö 30 —Ö 3600 (—à–∏—Ä–∏–Ω–∞, –≤—ã—Å–æ—Ç–∞, –≤–∏—Ç–æ–≤–∞—è –≥–ª—É–±–∏–Ω–∞, —á–∏—Å—Ç–æ—Ç–∞ –∫–∞–¥—Ä–∞ –∏ –≤—Ä–µ–º—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö).

–î–ª—è —ç—Ç–æ–≥–æ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –Ω–∞—à–µ–≥–æ –∑—Ä–µ–Ω–∏—è**. –ú—ã –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ–º —è—Ä–∫–æ—Å—Ç—å –ª—É—á—à–µ, —á–µ–º —Ü–≤–µ—Ç–∞. –¢–∞–∫ –∂–µ, —Å–∏–ª—å–Ω–µ–µ –∑–∞–º–µ—á–∞–µ–º **–ø–æ–≤—Ç–æ—Ä—ã —á–∞—Å—Ç–µ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º–µ–Ω–∏**.

## –¶–≤–µ—Ç–∞, —è—Ä–∫–æ—Å—Ç—å –∏ –≥–ª–∞–∑–∞

–ù–∞—à–∏ –≥–ª–∞–∑–∞ –±–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ [—è—Ä–∫–æ—Å—Ç–∏ —á–µ–º –∫ —Ü–≤–µ—Ç–∞–º](http://vanseodesign.com/web-design/color-luminance/), –≤—ã –º–æ–∂–µ—Ç–µ —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏:

![—è—Ä–∫–æ—Å—Ç—å –ø—Ä–æ—Ç–∏–≤ —Ü–≤–µ—Ç–∞](/i/luminance_vs_color.png "—è—Ä–∫–æ—Å—Ç—å –ø—Ä–æ—Ç–∏–≤ —Ü–≤–µ—Ç–∞")

–ï—Å–ª–∏ –≤—ã –Ω–µ –≤–∏–¥–∏—Ç–µ, —á—Ç–æ —Ü–≤–µ—Ç–∞ **–∫–≤–∞–¥—Ä–∞—Ç–∞ –ê –∏ –ë –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ** –≤ –ª–µ–≤–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–µ, —Ç–æ —É –≤–∞—Å –≤—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ, –Ω–∞—à –º–æ–∑–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω **—É–¥–µ–ª—è—Ç—å –±–æ–ª—å—à–µ –≤–Ω–∏–º–∞–Ω–∏—è –Ω–∞ —è—Ä–∫–æ—Å—Ç—å/—Ç–µ–º–Ω–æ—Ç—É —á–µ–º –Ω–∞ —Ü–≤–µ—Ç**. –ù–∞ –ø—Ä–∞–≤–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–µ, –≤—ã –≤–∏–¥–∏—Ç–µ —á—Ç–æ —Ü–≤–µ—Ç–∞ –∏ –≤ –ø—Ä–∞–≤–¥—É –æ–¥–∏–Ω–∞–∫–æ–≤—ã.

> **–£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ –æ–±—å—è—Å–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –≥–ª–∞–∑**
> –ì–ª–∞–∑ [—Å–ª–æ–∂–Ω—ã–π –æ—Ä–≥–∞–Ω](http://www.biologymad.com/nervoussystem/eyenotes.htm), —Å–æ—Å—Ç–∞–≤–ª–∏–Ω –∏–∑ –º–Ω–æ–≥–∏—Ö —á–∞—Å—Ç–µ–π, —Ö–æ—Ç—è –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –∫–æ–ª–±–æ—á–Ω—ã–µ –∏ –ø–∞–ª–æ—á–Ω—ã–µ –∫–ª–µ—Ç–∫–∏. –ì–ª–∞–∑ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –ø–æ—Ä—è–¥–∫–∞ [120 –º–∏–ª–∏–æ–Ω –ø–∞–ª–æ—á–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫ –∏ 6 –º–∏–ª–∏–æ–Ω –∫–æ–ª–±–æ—á–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫](https://en.wikipedia.org/wiki/Photoreceptor_cell).
>
> **–£–ø—Ä–∞—â–∞—è –¥–∞–ª—å—à–µ**, –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –∫–∞–∫ —Ü–≤–µ—Ç –∏ —è—Ä–∫–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤—É—é—Ç –Ω–∞ –≥–ª–∞–∑–∞. **[–ü–∞–ª–æ—á–Ω—ã–µ –∫–ª–µ—Ç–∫–∏](https://en.wikipedia.org/wiki/Rod_cell) –ø–æ –±–æ–ª—å—à–µ–Ω—Å—Ç–≤—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã –∑–∞ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ —è—Ä–∫–æ—Å—Ç–∏**. **[–ö–æ–ª–±–æ—á–Ω—ã–µ –∫–ª–µ—Ç–∫–∏](https://en.wikipedia.org/wiki/Cone_cell) –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã –∑–∞ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ —Ü–≤–µ—Ç–∞**. –ï—Å—Ç—ã —Ç—Ä–∏ —Ç–∏–ø–∞ –∫–æ–ª–±–æ—á–µ–∫, –∫–∞–∂–¥–∞—è —Å–æ —Å–≤–æ–µ–π –æ–∫—Ä–∞—Å–∫–æ–π: [S-–∫–æ–ª–±–æ—á–∫–∞ (–°–∏–Ω–∏—è), M-–∫–æ–ª–±–æ—á–∫–∞ (–ó–µ–ª–µ–Ω–∞—è) –∏ L-–∫–æ–ª–±–æ—á–∫–∞ (–ö—Ä–∞—Å–Ω–∞—è)](https://upload.wikimedia.org/wikipedia/commons/1/1e/Cones_SMJ2_E.svg).
>
> –ü–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–∞—Å –±–æ–ª—å—à–µ –ø–∞–ª–æ—á–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫ (—è—Ä–∫–æ—Å—Ç—å), —á–µ–º –∫–æ–ª–±–æ—á–Ω—ã—Ö (—Ü–≤–µ—Ç), –∏–∑ —ç—Ç–æ–≥–æ –Ω–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –≤—ã–≤–æ–¥, —á—Ç–æ –º—ã –æ–±—Ä–æ–±–∞—Ç—ã–≤–∞–µ–º –±–æ–ª—å—à–µ —è—Ä–∫–æ—Å—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
>
> ![—Å–æ—Å—Ç–∞–≤ –≥–ª–∞–∑](/i/eyes.jpg "—Å–æ—Å—Ç–∞–≤ –≥–ª–∞–∑")
>
> **–§—É–Ω–∫—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ–π —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
> 
> –ï—Å—Ç—å –º–Ω–æ–≥–æ —Ç–µ–æ—Ä–∏–π –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –∑—Ä–µ–Ω–∏—è. –û–¥–Ω–∞ –∏–∑ –Ω–∏—Ö –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "–§—É–Ω–∫—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ–π —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏". –û–Ω–∞ –æ–ø–∏—Å—ã–≤–∞—é—Ç —Å–∫–æ–ª—å–∫–æ –∏–∑–º–∏–Ω–µ–Ω–∏—è –≤ —Ü–≤–µ—Ç–µ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –ø–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –Ω–∞–±–ª—é–¥–∞—é—â–∏–π —ç—Ç–æ –∑–∞–º–µ—Ç–∏—Ç. –§—É–Ω–∫—Ü–∏—è –∑–∞–º–µ—Ä—è–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ —á—É—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —á–µ—Ä–Ω–æ-–±–µ–ª–æ–º—É, –Ωo —Ç–∞–∫ –∂–µ –∏ —è—Ä–∫–æ—Å—Ç—å —Ü–≤–µ—Ç–æ–≤. –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Ä–∞–∑ –∑–∞ —Ä–∞–∑–æ–º –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —á—Ç–æ –º—ã –±–æ–ª–µ–µ —á—É—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ —è—Ä–∫–æ—Å—Ç–∏, —á–µ–º –∫ —Ü–≤–µ—Ç–∞–º.

–ó–Ω–∞—è —á—Ç–æ –º—ã —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ —è—Ä–∫–æ—Å—Ç–∏, –º—ã –º–æ–∂–µ–º –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ñ–∞–∫—Ç.

### –ú–æ–¥–µ–ª—å —Ü–≤–µ—Ç–∞

–í –Ω–∞—á–∞–ª–µ –º—ã –∏–∑—É—á–∞–ª–∏ –∫–∞–∫ [—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ü–≤–µ—Ç –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö](#–æ—Å–Ω–æ–≤–Ω—ã–µ-—Ç–µ—Ä–º–∏–Ω—ã) –∏—Å–ø–æ–ª—å–∑—É—è **–º–æ–¥–µ–ª—å RGB**. –°—É—â–µ—Å—Ç–≤—É—é—Ç –¥—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏ - –Ω–∞–ø—Ä–∏–º–µ—Ä, **YCbCr**<sup>*</sup> –¥–µ–ª–∏—Ç luma/–ª—É–º–∞ (—è—Ä–∫–æ—Å—Ç—å) –æ—Ç chrominance/—Ö—Ä–æ–º–∏–Ω–∞–Ω—Ü (—Ü–≤–µ—Ç–Ω–æ—Å—Ç—å).

> <sup>*</sup> –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏ –∫–æ—Ç–æ—Ä—ã–µ —Ç–∞–∫ –∂–µ —Ä–∞–∑–¥–µ–ª—è—é—Ç –º–µ–∂–¥—É —è—Ä–∫–æ—Å—Ç—å—é –∏ —Ü–≤–µ—Ç–æ–º.

–í —ç—Ç–æ–π –º–æ–¥–µ–ª–∏ **Y** –∫–∞–Ω–∞–ª —è—Ä–∫–æ—Å—Ç–∏. –¢–∞–∫ –∂–µ –µ—Å—Ç—å –¥–≤–∞ –∫–∞–Ω–∞–ª–∞ —Ü–≤–µ—Ç–∞, **Cb** (—Å–∏–Ω—è—è chroma/—Ö—Ä–æ–º–∞) –∏ **Cr** (–∫—Ä–∞—Å–Ω–∞—è chroma/—Ö—Ä–æ–º–∞). –§–æ—Ä–º–∞—Ç [YCbCr](https://en.wikipedia.org/wiki/YCbCr) –≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –æ—Ç RGB, –∏ —Ç–∞–∫ –∂–µ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å RGB –æ—Ç YCbCr. –° –ø–æ–º–æ—â—å—é YCbCr –º—ã –º–æ–∂–µ–º —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø–æ–ª–Ω–æ–º —Ü–≤–µ—Ç–µ:

![–ø—Ä–∏–º–µ—Ä ycbcr](/i/ycbcr.png "–ø—Ä–∏–º–µ—Ä ycbcr")

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É YCbCr –∏ RGB

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –≤–∞—Å –º–æ–∂–µ—Ç —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å, –∫–∞–∫ –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å **–≤—Å–µ —Ü–≤–µ—Ç–∞ –±–µ–∑ –∑–µ–ª–µ–Ω–æ–≥–æ**?

–ß—Ç–æ –±—ã –ø–æ–Ω—è—Ç—å –æ—Ç–≤–µ—Ç, –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –∫–∞–∫ –º—ã –ø–µ—Ä–µ–≤–æ–¥–∏–º —Ü–≤–µ—Ç–æ–≤—É—é –º–æ–¥–µ–ª—å RGB –Ω–∞ YCbCr. –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ **[BT.601](https://en.wikipedia.org/wiki/Rec._601)**, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª —Å–æ–∑–¥–∞–Ω **[–≥—Ä—É–ø–ø–æ–π ITU-R<sup>*</sup>](https://en.wikipedia.org/wiki/ITU-R)**. –ü–µ—Ä–≤—ã–π —à–∞–≥ –≤ —ç—Ç–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ —ç—Ç–æ **–≤—ã—Å—á–∏—Ç–∞—Ç—å —è—Ä–∫–æ—Å—Ç—å (luma)** –∏ –∑–∞–º–µ–Ω–∏—Ç—å —Ü–∏—Ñ—Ä—ã RGB, –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø–æ–π ITU.

```
Y = 0.299R + 0.587G + 0.114B
```

–ü–æ—Å–ª–µ —è—Ä–∫–æ—Å—Ç–∏, –º—ã –º–æ–∂–µ–º **–ø–æ–ª—É—á–∏—Ç—å —Ü–≤–µ—Ç–∞** (chroma —Å–∏–Ω–∏–π –∏ –∫—Ä–∞—Å–Ω—ã–π):

```
Cb = 0.564(B - Y)
Cr = 0.713(R - Y)
```

–ú–æ–∂–Ω–æ **–ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —ç—Ç–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞—Ç–Ω–æ**, –∏ –¥–∞–∂–µ **–ø–æ–ª—É—á–∏—Ç—å –∑–µ–ª–µ–Ω—ã–π –∏—Å–ø–æ–ª—å–∑—É—è YCbCr**

```
R = Y + 1.402Cr
B = Y + 1.772Cb
G = Y - 0.344Cb - 0.714Cr
```

> <sup>*</sup> –¶–∏—Ñ—Ä–æ–≤—ã–º –≤–∏–¥–µ–æ –ø—Ä–∞–≤—è—Ç –≥—Ä—É–ø–ø—ã –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã. –ì—Ä—É–ø–ø—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä [–ß—Ç–æ —Ç–∞–∫–æ–µ 4–ö? –ö–∞–∫—É—é —á–∏—Å—Ç–æ—Ç—É –∫–∞–¥—Ä–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—ä? –†–µ—à–µ–Ω–∏–µ? –¶–≤–µ—Ç–Ω—É—é –º–æ–¥–µ–ª—å?](https://en.wikipedia.org/wiki/Rec._2020).

–û–±—ã—á–Ω–æ, **–¥–∏—Å–ø–ª–µ–∏** —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ –º–æ–¥–µ–ª–∏ **RGB**, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–∞–∫–∏–º —Ç–æ –æ–±—Ä–∞–∑–æ–º. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö –ø–æ–∫–∞–∑–∞–Ω—ã —Ç—É—Ç:

![–ø–∏–∫—Å–µ–ª—å–Ω–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è](/i/new_pixel_geometry.jpg "–ø–∏–∫—Å–µ–ª—å–Ω–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è")

### –¶–≤–µ—Ç–æ–≤–∞—è –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏—è

–ö–æ–≥–¥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —è—Ä–∫–æ—Å—Ç–∏ –∏ —Ü–≤–µ—Ç–∞, –º—ã –º–æ–∂–µ–º –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –≥–ª–∞–∑–∞ –∫ —è—Ä–∫–æ—Å—Ç–∏, —á—Ç–æ –±—ã —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. **–¶–≤–µ—Ç–æ–≤–∞—è –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏—è** —Ç–µ—Ö–Ω–∏–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω—å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å **—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º –¥–ª—è —Ü–≤–µ—Ç–∞ (CbCr - 320x180) –º–µ–Ω—å—à–µ, —á–µ–º –¥–ª—è —è—Ä–∫–æ—Å—Ç–∏ (Y - 1280x720)**.

![–¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏—è ycbcr](/i/ycbcr_subsampling_resolution.png "–¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏—è ycbcr")

–¢–∞–∫ –∫–∞–∫ –∂–µ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞?! –°—É—â–µ—Å—Ç–≤—É—é—Ç —Å—Ö–µ–º—ã –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å—ã–≤–∞—é—Ç, –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ü–≤–µ—Ç –æ—Ç —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (`–∫–æ–Ω–µ—á–Ω—ã–π —Ü–≤–µ—Ç = Y + Cb + Cr`).

–≠—Ç–∏ —Å—Ö–µ–º—ã –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞–º–∏ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏, –æ–±—ã—á–Ω–æ –ø–æ–∫–∞–∑–∞–Ω—ã —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ–º —Ç—Ä–µ—Ö —á–∏—Å–µ–ª - `a:x:y` –∫–æ—Ç–æ—Ä–æ–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ `a * 2` –±–ª–æ–∫—É –ø–∏–∫—Å–µ–ª–µ–π —è—Ä–∫–æ—Å—Ç–∏.

 * `a` –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ (–æ–±—ã—á–Ω–æ 4)
 * `x` –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–∑—Ü–æ–≤ —Ü–≤–µ—Ç–∞ –≤ –ø–µ—Ä–≤–æ–º —Ä—è–¥—É
 * `y` –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–≤–µ—Ç–∞ –º–µ–∂–¥—É –ø–µ—Ä–≤—ã–º –∏ –≤—Ç–æ—Ä—ã–º —Ä—è–¥–æ–º
 
> –í —ç—Ç–æ–π —Å—Ö–µ–º–µ –µ—Å—Ç—å –∏–∑–∫–ª—É—á–µ–Ω–∏–µ, 4:1:0, –≥–¥–µ –≤—ã–±–µ—Ä–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ü–≤–µ—Ç –¥–ª—è –∫–∞–∂–¥–µ–≥–æ `4 x 4` –±–ª–æ–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —è—Ä–∫–æ—Å—Ç–∏. 

–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–¥–µ–∫–∞—Ö –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: **4:4:4** *(–ë–µ–∑ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏)*, **4:2:2, 4:1:1, 4:2:0, 4:1:0 –∏ 3:1:1**.

> –í—ã –º–æ–∂–µ—Ç–µ —É—á–∞—Å—Ç–æ–≤–∞—Ç—å –≤ [—Ä–∞–∑–≥–æ–≤–æ—Ä–∞—Ö –æ —Ü–≤–µ—Ç–æ–≤–æ–π –ø–æ–¥–±–æ—Ä–∫–µ —Ç—É—Ç](https://github.com/leandromoreira/digital_video_introduction/issues?q=YCbCr).

> **–ü–æ–¥–±–æ—Ä–∫–∞ YCbCr 4:2:0**
>
> –¢—É—Ç –≤–∏–¥–Ω–æ –∫–∞–∫ —Å–ª–∏–≤–∞–µ—Ç—Å—è —Ü–≤–µ—Ç–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å —è—Ä–∫–æ—Å—Ç–Ω–æ–π –≤ —Ä–µ–∂—à–∏–º–µ YCbCr 4:2:0. –ó–∞–º–µ—Ç–∏—Ç–µ, —á—Ç–æ –º—ã —Ç–æ–ª—å–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º 12 –±–∏—Ç–æ–≤ –Ω–∞ –ø–∏–∫—Å–µ–ª—å.
>
> ![—Å–ª–∏—Ç–∏–µ YCbCr 4:2:0](/i/ycbcr_420_merge.png "—Å–ª–∏—Ç–∏–µ YCbCr 4:2:0 merge")

–¢—É—Ç –ø–æ–∫–∞–∑–∞–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≥–ª–∞–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏. –ü–µ—Ä–≤—ã–π —Ä—è–¥ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π YCbCr; –Ω–∞ –≤—Ç–æ—Ä–æ–º, –≤–∏–¥–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Ü–≤–µ—Ç–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤. –ö–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ, –ø—Ä–∏ —ç—Ç–æ–º –ø–∞–º—è—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ –º–Ω–æ–≥–æ –º–µ–Ω—å—à–µ.

![–ø—Ä–∏–º–µ—Ä—ã –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏](/i/chroma_subsampling_examples.jpg "–ø—Ä–∏–º–µ—Ä—ã –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏")

–†–∞–Ω–µ–µ –º—ã –≤—ã—á–∏—Å–ª–∏–ª–∏ —á—Ç–æ –Ω–∞–º –Ω–∞–¥–æ [278GB –ø–∞–º—è—Ç–∏ —á—Ç–æ –±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–∞—Å 720p/30fps –≤–∏–¥–µ–æ](#—É–¥–∞–ª–µ–Ω–∏–µ-–∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏). –ò—Å–ø–æ–ª—å–∑—É—è —Ä–µ–∂–∏–º **YCbCr 4:2:0** –º—ã –º–æ–∂–µ–º **—É–±—Ä–∞—Ç—å –ø–æ–ª–æ–≤–∏–Ω—É —Ä–∞–∑–º–µ—Ä–∞ –¥–æ 139GB**<sup>*</sup>, —Ö–æ—Ç—è —ç—Ç–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –¥–∞–ª–µ–∫–æ –æ—Ç –∏–¥–µ–∞–ª–∞.

> <sup>*</sup> —ç—Ç–æ —á–∏—Å–ª–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —É–º–Ω–∞–∂–∞—è —à–∏—Ä–∏–Ω—É, –≤—ã—Å–æ—Ç—É, –±–∏—Ç—ã –Ω–∞ –ø–∏–∫—Å–µ–ª, –∏ —á–∏—Å—Ç–æ—Ç—É –∫–∞–¥—Ä–∞. –†–∞–Ω—å—à–µ –º—ã –ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å 24 –±–∏—Ç–∞–º–∏, —Ç–µ–ø–µ—Ä—å –Ω–∞–º —Ç–æ–ª—å–∫–æ –Ω–∞–¥–æ 12.

<br/>

> ### –ü—Ä–∞–∫—Ç–∏–∫–∞: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã YCbCr
> –í–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å [–≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—É YCbCr —Å –ø–æ–º–æ—à—å—é ffmpeg.](/encoding_pratical_examples.md#generates-yuv-histogram). –£ —ç—Ç–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã—à–µ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è —Å–∏–Ω–µ–≥–æ, —á—Ç–æ –≤–∏–¥–Ω–æ –Ω–∞ [–≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–µ](https://en.wikipedia.org/wiki/Histogram).
>
> ![–≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ ycbcr](/i/yuv_histogram.png "–≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ ycbcr")

### –¶–≤–µ—Ç, –ª—É–º–∞, —è—Ä–∫–æ—Å—Ç—å, –≥–∞–º–º–∞

–û—Ç–ª–∏—á–Ω–æ–µ –≤–∏–¥–µ–æ –¥–ª—è —Ç–µ—Ö –∫—Ç–æ —Ö–æ—Ç—è—Ç –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ –≥–ª—É–±–∂–µ –ø–æ–Ω—è—Ç–∏–µ –ª—É–º—ã, —è—Ä–∫–æ—Å—Ç–∏, –≥–∞–º–º—ã, –∏ —Ü–≤–µ—Ç–∞.
[![Analog Luma - A history and explanation of video](http://img.youtube.com/vi/Ymt47wXUDEU/0.jpg)](http://www.youtube.com/watch?v=Ymt47wXUDEU)

## –¢–∏–ø—ã –∫–∞–¥—Ä–æ–≤

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ **–∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –≤–æ –≤—Ä–µ–º–µ–Ω–∏**. –° –Ω–∞—á–∞–ª–∞, –Ω–∞–º –Ω–∞–¥–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã - —Å–∫–∞–∂–µ–º, —á—Ç–æ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å —Ñ–∏–ª—å–º–æ–º 30FPS, –∏ –ø–µ—Ä–≤—ã–µ 4 –∫–∞–¥—Ä–∞ –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫:

![—à–∞—Ä 1](/i/smw_background_ball_1.png "—à–∞—Ä 1") ![—à–∞—Ä 2](/i/smw_background_ball_2.png "—à–∞—Ä 2") ![—à–∞—Ä 3](/i/smw_background_ball_3.png "—à–∞—Ä 3")
![—à–∞—Ä 4](/i/smw_background_ball_4.png "—à–∞—Ä 4")

–ú—ã –≤–∏–¥–∏–º –º–Ω–æ–≥–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –º–µ–∂–¥—É –∫–∞–¥—Ä–∞–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä —É —Å–∏–Ω–µ–≥–æ —Ñ–æ–Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –∫–∞–¥—Ä–∞—Ö 0 - 3. –ß—Ç–æ –±—ã –Ω–∞—á–∞—Ç—å —Ä–µ—à–∞—Ç—å —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –º—ã –º–æ–∂–µ–º –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –∫–∞–∫ 3 —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–∞ –∫–∞–¥—Ä–∞.

### I –∫–∞–¥—Ä (–∏–Ω—Ç—Ä–∞, –∫–ª—é—á–µ–≤–æ–π –∫–∞–¥—Ä)

I –∫–∞–¥—Ä, (—Å—Å—ã–ª–∫–∞, –∫–ª—é—á–µ–≤–æ–π –∫–∞–¥—Ä, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π) **–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –∫–∞–¥—Ä**. –ß—Ç–æ –±—ã –µ–≥–æ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∏ –æ–Ω –ø–æ—Ö–æ–∂ –Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é. –ü–µ—Ä–≤—ã–π –∫–∞–¥—Ä –æ–±—ã—á–Ω–æ I –∫–∞–¥—Ä, –Ω–æ –º—ã –≤–∏–¥–µ–º –∫–∞–∫ I –∫–∞–¥—Ä—ã —Ä–µ–≥—É–ª—è—Ä–Ω–æ –≤—Å—Ç–∞–≤–ª—è—é—Ç —Å—Ä–µ–¥–∏ –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –∫–∞–¥—Ä–∞. 

![—à–∞—Ä 1](/i/smw_background_ball_1.png "—à–∞—Ä 1")

### P –∫–∞–¥—Ä (–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–π)

P-–∫–∞–¥—Ä –ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∞–∫—Ç–æ–º, —á—Ç–æ –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ **—Å –ø–æ–º–æ—â—å—é –ø—Ä–µ –≤–µ–¥—É—â–µ–≥–æ –∫–∞–¥—Ä–∞**. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–æ –≤—Ç–æ—Ä–æ–º –∫–∞–¥—Ä–µ, —à–∞—Ä –ø–æ–º–µ–Ω—è–ª —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ - –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –æ—Å—Ç–∞–ª–æ—Å—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º. –ú—ã –º–æ–∂–µ–º –ø–æ—Å—Ç—Ä–æ–∏—Ç—å **–ø–µ—Ä–≤—ã–π –∫–∞–¥—Ä –∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ–ª—å–∫–æ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –¥–≤—É–º—è –∫–∞–¥—Ä–∞–º–∏**.

![—à–∞—Ä 1](/i/smw_background_ball_1.png "—à–∞—Ä 1") <-  ![—à–∞—Ä 2](/i/smw_background_ball_2_diff.png "—à–∞—Ä 2")

> #### –ü—Ä–∞–∫—Ç–∏–∫–∞: –í–∏–¥–µ–æ —Å –µ–¥–∏–Ω—ã–º I-–∫–∞–¥—Ä–æ–º

> –ï—Å–ª–∏ P-–∫–∞–¥—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏, —Ç–æ –ø–æ—á–µ–º—É –±—ã –Ω–∞–º –Ω–µ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ª–æ–µ [–≤–∏–¥–µ–æ –æ–¥–Ω–∏–º I-–∫–∞–¥—Ä–æ–º –∏ –æ—Å—Ç–∞–≤–∏—Ç—å –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∫–∞–¥—Ä—ã –∫–∞–∫ P-–∫–∞–¥—Ä—ã?](/encoding_pratical_examples.md#1-i-frame-and-the-rest-p-frames)
>
> –ü–æ—Å–ª–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ —ç—Ç–æ–≥–æ –≤–∏–¥–µ–æ, –Ω–∞—á–Ω–∏—Ç–µ —Å–º–æ—Ç—Ä–µ—Ç—å –µ–≥–æ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Å–∫–æ—á–∏—Ç—å –∫ –ø–æ–∂–µ–º–º—É –≤—Ä–µ–º–∏–Ω–∏. –°—Ç–∞–Ω–∏—Ç –∑–∞–º–µ—Ç–Ω–æ —á—Ç–æ —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–ª–∏—Ü–∞ **–¥–æ–ª–≥–æ–µ –≤—Ä–µ–º–µ**. **P-–∫–∞–¥—Ä–∞–º –Ω—É–∂–Ω—ã —Å—Å—ã–ª–æ—á–Ω—ã–µ –∫–∞–¥—Ä—ã** (–Ω–∞–ø—Ä–∏–º–µ—Ä I-–∫–∞–¥—Ä) —á—Ç–æ –±—ã –∏—Ö –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å.
>
> –¢–∞–∫ –∂–µ –º–æ–∂–Ω–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ —Å –æ–¥–Ω–∏–º I-–∫–∞–¥—Ä–æ–º –∞ –ø–æ—Ç–æ–º –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å [–∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤—Å—Ç–∞–≤–ª—è—è I-–∫–∞–¥—Ä –∫–∞–∂–¥–∏–µ –¥–≤–µ —Å–µ–∫—É–Ω–¥—ã](/encoding_pratical_examples.md#1-i-frames-per-second-vs-05-i-frames-per-second), —Å—Ä–∞–≤–Ω–∏–≤–∞—è —Ä–∞–∑–º–µ—Ä–∞ –≤ –∫–æ–Ω—Ü–µ.

### B –∫–∞–¥—Ä (–¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è)

–¢–∞–∫ –∂–µ –º–æ–∂–Ω–æ —Å—Å—ã –ª–∞—Ü–∞ –Ω–∞ –±—É–¥—É—â–∏–µ –∫–∞–¥—Ä—ã, –∫–∞–∫ –∏ –ø—Ä–µ –≤–µ–¥—É—â–∏–µ, –º–µ—Ç–æ–¥ –∫–æ—Ç–æ—Ä—ã–π —ç–∫–æ–Ω–æ–º–∏—Ç –µ—â–µ –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏ - –∫–∞–∫ —Ä–∞–∑ —ç—Ç–æ –∏ –¥–µ–ª–∞—é—Ç B-–∫–∞–¥—Ä—ã.

![—à–∞—Ä 1](/i/smw_background_ball_1.png "—à–∞—Ä 1") <-  ![—à–∞—Ä 2](/i/smw_background_ball_2_diff.png "—à–∞—Ä 2") -> ![—à–∞—Ä 3](/i/smw_background_ball_3.png "—à–∞—Ä 3")

> #### –ü—Ä–∞–∫—Ç–∏–∫–∞: –°—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ —Å –ë-–∫–∞–¥—Ä–∞–º–∏
> –í—ã –º–æ–∂–µ—Ç–µ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –¥–≤–µ –≤–µ—Ä—Å–∏–∏ –≤–∏–¥–µ–æ, –æ–¥–Ω—É —Å B-–∫–∞–¥—Ä–∞–º–∏ –∏ –¥—Ä—É–≥—É—é [–≤–æ–æ–±—â–µ –±–µ–∑ B-–∫–∞–¥—Ä–æ–≤](/encoding_pratical_examples.md#no-b-frames-at-all). –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –∏ –∫–∞—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ.

### –ö–æ–Ω—Å–ø–µ–∫—Ç

–≠—Ç–∏ –∫–∞–¥—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è **–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏**. –ú—ã —É–≤–µ–¥–µ–º –∫–∞–∫ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Å–ª–µ–¥—É—é—â–µ–º –æ—Ç–¥–µ–ª–µ, –Ω–∞ –Ω–µ —Ç–µ–ø–µ—Ä–µ—à–Ω–∏–π –º–æ–º–µ–Ω—Ç –Ω–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–º–Ω–∏—Ç—å —á—Ç–æ **I-–∫–∞–¥—Ä –¥–æ—Ä–æ–≥–æ–π, P-–∫–∞–¥—Ä –¥–µ—à–µ–≤–ª–µ –∏ B-–∫–∞–¥—Ä —Å–∞–º—ã–π –¥–µ—à–µ–≤—ã–π**.

![—Ç–∏–ø—ã –∫–∞–¥—Ä–æ–≤](/i/frame_types.png "—Ç–∏–ø—ã –∫–∞–¥—Ä–æ–≤")

## –í—Ä–µ–º–µ–Ω–Ω–∞—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å (–º–µ–∂ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ)

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –∫–∞–∫ –º—ã –∏ –º–æ–∂–µ–º –ø–æ–Ω–∏–∑–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ **–ø–æ–≤—Ç–æ—Ä–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏**. –¢–∞–∫–æ–≥–æ —Ç–∏–ø–∞ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –¥–æ—Å—Ç–∏—á—å —Ç–µ—Ö–Ω–∏–∫–∞–º–∏ **–º–µ–∂ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è**.

–ü–æ –ø–æ–ø—Ä–æ–±—É–µ–º **–ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –º–µ–Ω—å—à–µ –±–∏—Ç–æ–≤** –∫–æ–¥–∏—Ä—É—è –∫–∞–¥—Ä—ã 0 –∏ 1.

![–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∫–∞–¥—Ä—ã](/i/original_frames.png "–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∫–∞–¥—Ä—ã")

–û–¥–∏–Ω –ø–æ–¥—Ö–æ–¥ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ **–≤—ã—á–∏—Ç–∞—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –∫–∞–¥—Ä–æ–º 1 –∏ 0**, –∏ –º—ã –ø–æ–ª—É—á–∏–º –≤—Å–µ —á—Ç–æ –Ω–∞–¥–æ —á—Ç–æ –±—ã **–∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞—Ç–æ–∫**.

![–∫–∞–¥—Ä—ã –¥–µ–ª—Ç–∞](/i/difference_frames.png "–∫–∞–¥—Ä—ã –¥–µ–ª—Ç–∞")

–ù–µ –ø–ª–æ—Ö–æ, –Ω–æ –µ—Å—Ç—å –µ—â–µ **–ª—É—á—à–µ –º–µ—Ç–æ–¥**, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ—â–µ –º–µ–Ω—å—à–µ –±–∏—Ç–æ–≤. –° –Ω–∞—á–∞–ª–∞, –¥–∞–≤–∞–π —Ä–∞–∑—Ä–µ–∂–µ–º `–∫–∞–¥—Ä 0` –Ω–∞ —Å–µ—Ä–∏—é —Ä–∞–∑–¥–µ–ª–æ–≤, –ø–æ—Å–ª–µ —á–µ–≥–æ –º—ã –º–æ–∂–µ–º –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª—ã —Å `–∫–∞–¥—Ä–∞ 0` –¥–æ `–∫–∞–¥—Ä–∞ 1`, –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞–ø–æ–¥–æ–±–∏–µ **–æ—Ü–µ–Ω–∫–∏ –¥–≤–µ–∂–µ–Ω–∏—è**.

> ### –í–∏–∫–∏–ø–µ–¥–∏–∞ - –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—é –±–ª–æ–∫–∞
> **–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏ –¥–≤–∏–∂–µ–Ω–∏—é –±–ª–æ–∫–∞** –¥–µ–ª–∏—Ç —Ç–µ–∫—É—â–∏–π –∫–∞–¥—Ä –Ω–∞ –æ—Ç–¥–ª–µ—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã, –ø–æ—Å–ª–µ —á–µ–≥–æ –≤–µ–∫—Ç–æ—Ä—ã –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è **–ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ—Ç –∫—É–¥–∞ —ç—Ç–∏ –±–ª–æ–∫–∏ –ø–æ—è–≤–∏–ª–∏—Å—å** (—Ä–∞—Å–ø–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–∞—è –æ—à—ã–±–∫–∞ –∏–¥–µ—è —Ç–æ–≥–æ —á—Ç–æ, —Ä–∞–∑–¥–µ–ª–∏–≤ –ø—Ä–µ–≤–µ–¥—É—â–∏–π –∫–∞–¥—Ä –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã, –≤–µ–∫—Ç–æ—Ä—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∫—É–¥–∞ —ç—Ç–∏ —Ä–∞–∑–¥–µ–ª—ã –¥–≤–∏–≥–∞—é—Ç—Å—è). –ò—Å—Ö–æ–¥–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã –æ–±—ã—á–Ω–æ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–∞–¥—Ä–µ. –ù–µ–∫–æ—Ç–æ—Ä–æ—è –∫–æ–º–ø—Ä–µ—Å—Å–∏—è –≤–∏–¥–µ–æ —Ç–µ–∫—É—â–∏–π –∫–∞–¥—Ä –∏–∑ –∫—É—Å–∫–æ–≤ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–Ω–µ–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –∫–∞–¥—Ä–æ–≤.

![–¥–µ–ª—Ç–∞ –∫–∞–¥—Ä—ã](/i/original_frames_motion_estimation.png "–¥–µ–ª—Ç–∞ –∫–∞–¥—Ä—ã")

–ú—ã –º–æ–∂–µ–º –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å —á—Ç–æ —à–∞—Ä–∏–∫ —Å–¥–≤–∏–Ω—É–ª—Å—è –æ—Ç `x=0, y=25` –¥–æ `x=6, y=26`, –∏ —á—Ç–æ **—Ö** –∏ **y** —á–∏—Å–ª–∞ —ç—Ç–æ **–≤–µ–∫—Ç–æ—Ä—ã –¥–≤–∏–∂–µ–Ω–∏—è**. –ß—Ç–æ –±—ã —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –Ω–∞ –±–∏—Ç–∞—Ö –¥–∞–ª—å—à–µ, –º—ã –º–æ–∂–µ–º **–∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ä–∞–∑–Ω–∏—Ü—É –≤ –≤–µ–∫—Ç–æ—Ä–∞—Ö –¥–≤–∏–∂–µ–Ω–∏—è** –º–µ–∂–¥—É –ø–æ—Å–ª–µ–¥–Ω–∏–º –ø–æ–ª–æ–∂–µ–Ω–∏–µ–º –±–ª–æ–∫–∞ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–º, —Ç–∞–∫ —á—Ç–æ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –≤–µ–∫—Ç–æ—Ä –¥–≤–∏–∂–µ–Ω–∏—è –ø–æ–ª—É—á–∞–µ—Ç—Å—è `x=6 (6-0), y=1 (26-25)`.

> –ü—Ä–∏ –Ω–∞—Å—Ç–æ—è—â–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–π —Ç–µ—Ö–Ω–∏–∫–∏, —à–∞—Ä –±—ã–ª –±—ã —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ `n` —Ä–∞–∑–¥–µ–ª–æ–≤. –ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏ —ç—Ç–æ–º –æ—Å—Ç–∞–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º.

> –û–±—å–µ–∫—Ç—ã –Ω–∞ –∫–∞–¥—Ä–µ **–º–æ–≥—É—Ç –¥–≤–∏–≥–∞—Ç—Å—è 3D–æ–±—Ä–∞–∑–Ω–æ**, —à–∞—Ä –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –º–µ–Ω—å—à–µ –∫–æ–≥–¥–∞ –æ–Ω —É—Ö–æ–¥–∏—Ç –≤ —Ñ–æ–Ω. –í–ø–æ–ª—å–Ω–µ –≤–æ–∑–º–æ–∂–Ω–æ (–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ) —á—Ç–æ –º—ã –Ω–µ —Å–º–æ–∂–µ–º –Ω–∞–π—Ç–∏ –∏–¥–µ–∞–ª—å–Ωoe —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞ –∫–æ—Ç–æ—Ä–º—É –º—ã –∏—â–∏–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ. –í–æ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ä–∞–≤–Ω—è—è –Ω–∞—à–µ –ø—Ä–µ–¥—Å–∫–æ–∑–∞–Ω–∏–µ —Å –Ω–∞—Å—Ç–æ—è—â–∏–º –∫–∞–¥—Ä–æ–º.

![–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è](/i/motion_estimation.png "–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è")

–í—Å–µ —Ä–∞–≤–Ω–æ, –≤–∏–¥–Ω–æ —á—Ç–æ –∫–æ–≥–¥–∞ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º **–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è** –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∫–æ—Ç–æ—Ä—É—é –Ω–∞–º **–Ω–∞–¥–æ –∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –º–µ–Ω—å—à–µ** —á–µ–º –µ—Å–ª–∏ –º—ã –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ç–µ—Ö–Ω–∏–∫—É –¥–µ–ª—Ç–∞ –∫–∞–¥—Ä–æ–≤.

![–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø—Ä–æ—Ç–∏–≤ –¥–µ–ª—Ç—ã](/i/comparison_delta_vs_motion_estimation.png "–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø—Ä–æ—Ç–∏–≤ –¥–µ–ª—Ç—ã")

> ### –ö–∞–∫ –≤—ã–≥–ª—è–¥–µ—Ç –Ω–∞—Å—Ç–æ—è—â–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è
> –û–±—ã—á–Ω–æ —ç—Ç–∞ —Ç–µ—Ö–Ω–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–æ–≤, –∏ –æ–±—ã—á–Ω–æ –æ–¥–∏–Ω —à–∞—Ä –∫–∞–∫ –≤ –ø—Ä–µ–≤–µ–¥—É—â–∏—Ö –∫–∞–¥—Ä–∞—Ö –±—É–¥–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–¥–µ–ª–æ–≤.
>  ![–Ω–∞—Å—Ç–æ—è—â–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è](/i/real_world_motion_compensation.png "–Ω–∞—Å—Ç–æ—è—â–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è")
> –°—Å—ã–ª–∫–∞: https://web.stanford.edu/class/ee398a/handouts/lectures/EE398a_MotionEstimation_2012.pdf

–í—ã –º–æ–∂–µ—Ç–µ [—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–∏–º–∏ —Ç–µ—Ö–Ω–∏–∫–∞–º–∏ –≤ jupyter](/frame_difference_vs_motion_estimation_plus_residual.ipynb).

> #### –ü—Ä–∞–∫—Ç–∏–∫–∞: –û–±–∑–æ—Ä –≤–µ–∫—Ç–æ—Ä–æ–≤ –¥–≤–∏–∂–µ–Ω–∏—è
> –ú—ã –º–æ–∂–µ–º [—Å–æ–∑–¥–∞—Ç—å –≤–∏–¥–µ–æ —Å –≤–Ω–µ—à–Ω–∏–º –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ–º (–≤–µ–∫—Ç–æ—Ä–∞–º–∏ –¥–≤–∏–∂–µ–Ω–∏—è) —Å –ø–æ–º–æ—â—å—é ffmpeg.](/encoding_pratical_examples.md#generate-debug-video)
>
> ![–≤–Ω–µ—à–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ (–≤–µ–∫—Ç–æ—Ä—ã –¥–≤–∏–∂–µ–Ω–∏—è) —Å –ø–æ–º–æ—â—å—é ffmpeg](/i/motion_vectors_ffmpeg.png "–≤–Ω–µ—à–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ (–≤–µ–∫—Ç–æ—Ä—ã –¥–≤–∏–∂–µ–Ω–∏—è) —Å –ø–æ–º–æ—â—å—é ffmpeg")
>
> –¢–∞–∫ –∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [Intel Video Pro Analyzer](https://software.intel.com/en-us/intel-video-pro-analyzer) (–ø—Ä–æ–≥—Ä–∞–º–∞ –ø–ª–∞—Ç–Ω–∞—è, –Ω–æ –µ—Å—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è, –ø—Ä–æ–±–Ω–∞—è –≤–µ—Ä—Å–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑—É –Ω–∞ –ø–µ—Ä–≤—ã–µ 10 –∫–∞–¥—Ä–æ–≤).
>
> ![–≤–Ω–µ—à–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ intel video pro analyzer](/i/inter_prediction_intel_video_pro_analyzer.png "–≤–Ω–µ—à–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ intel video pro analyzer")

## –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ)

–ï—Å–ª–∏ –º—ã –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º **–∫–∞–∂–¥—ã–π –∫–∞–¥—Ä** –≤ –≤–∏–¥–µ–æ, –º—ã —É–≤–∏–¥–∏–º —á—Ç–æ –µ—Å—Ç—å **–º–Ω–æ–≥–æ –æ–±–ª–∞—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É**.

![](/i/repetitions_in_space.png)

–î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–π–¥–µ–º—Å—è –ø–æ –ø—Ä–∏–º–µ—Ä—É. –≠—Ç–∞ —Å—Ü–µ–Ω–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–∏–Ω–µ–≥–æ –∏ –±–µ–ª–æ–≥–æ.

![](/i/smw_bg.png)

–≠—Ç–æ `I-–∫–∞–¥—Ä`, –∏ –º—ã **–Ω–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∫–∞–¥—Ä—ã** –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è - –ø—Ä–∏ —ç—Ç–æ–º, –º—ã –≤—Å–µ –µ—â–µ –º–æ–∂–µ–º —Å–∂–∞—Ç—å –µ–≥–æ. –ú—ã –∑–∞–∫–æ–¥–∏—Ä—É–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∫—Ä–∞—Å–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ. –ï—Å–ª–∏ –º—ã **–ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –µ–≥–æ —Å–æ—Å–µ–¥–µ–π**, –º—ã –º–æ–∂–µ–º –ø–æ–Ω—è—Ç—å —á—Ç–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç **—Ç—Ä–µ–Ω–¥ —Ü–≤–µ—Ç–æ–≤ –≤–æ–∫—Ä—É–≥ –Ω–µ–≥–æ**.

![](/i/smw_bg_block.png)

–ú—ã **–ø—Ä–µ–¥—Å–∫–∞–∂–µ–º**, —á—Ç–æ –≤ –∫–∞–¥—Ä–µ –±—É–¥—É—Ç **—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—Å—è —Ü–≤–µ—Ç–∞ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏**, —Ç–æ –µ—Å—Ç—å —Ü–≤–µ—Ç–∞ –ø–∏–∫—Å–µ–ª–µ–π –æ –∫–æ—Ç–æ—Ä—ã—Ö –º—ã –Ω–µ –∑–Ω–∞–µ–º –≤ —ç—Ç–æ–π –æ–±–ª–∞—Å—Ç–∏ **–±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ü–≤–µ—Ç–∞ —Å–æ—Å–µ–¥–µ–π**.

![](/i/smw_bg_prediction.png)

–ù–∞—à–µ **–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–≤–µ—Ä–Ω—ã–º**, –ø–æ —ç—Ç–æ–º—É –Ω–∞–º –Ω–∞–¥–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ (**–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ**), –∞ –∑–∞—Ç–µ–º **–≤—ã—á–µ—Å—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —á–∏—Å–ª–∞ —Ü–≤–µ—Ç–æ–≤**, —á—Ç–æ –¥–∞–µ—Ç –Ω–∞–º –æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π —Ä–∞–∑–¥–µ–ª –∏ –¥–∞–µ—Ç –Ω–∞–º –±–æ–ª–µ–µ —Å–∂–∏–º–∞–µ–º–æ—é –º–∞—Ç—Ä–∏—Ü—É –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º.

![](/i/smw_residual.png)

> #### –ü—Ä–∞–∫—Ç–∏–∫–∞: –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
> –í—ã –º–æ–∂–µ—Ç–µ [–∑–¥–µ–ª–∞—Ç—å –≤–∏–¥–µ–æ —Å –º–∞–∫—Ä–æ —Ä–∞–∑–¥–µ–ª–∞–º–∏ –∏ –∏—Ö –ø—Ä–µ–¥—Å–∫–æ–∑–∞–Ω–∏—è–º–∏ –≤ ffmpeg.](/encoding_pratical_examples.md#generate-debug-video) –ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é ffmpeg —á—Ç–æ –±—ã –ø–æ–Ω—è—Ç—å [–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∂–¥–µ–≥–æ –±–ª–æ–∫–∞ —Ü–≤–µ—Ç–∞](https://trac.ffmpeg.org/wiki/Debug/MacroblocksAndMotionVectors#AnalyzingMacroblockTypes).
>
> ![–≤–Ω—É—Ç—Ä–∏–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è (–º–∞–∫—Ä–æ —Ä–∞–∑–¥–µ–ª—ã) —Å ffmpeg](/i/macro_blocks_ffmpeg.png "–≤–Ω—É—Ç—Ä–∏–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è (–º–∞–∫—Ä–æ —Ä–∞–∑–¥–µ–ª—ã) —Å ffmpeg")
>
> –¢–∞–∫ –∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [Intel Video Pro Analyzer](https://software.intel.com/en-us/intel-video-pro-analyzer) (–ø—Ä–æ–≥—Ä–∞–º–∞ –ø–ª–∞—Ç–Ω–∞—è, –Ω–æ –µ—Å—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è, –ø—Ä–æ–±–Ω–∞—è –≤–µ—Ä—Å–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑—É –Ω–∞ –ø–µ—Ä–≤—ã–µ 10 –∫–∞–¥—Ä–æ–≤).
>
> ![–≤–Ω—É—Ç—Ä–∏–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è intel video pro analyzer](/i/intra_prediction_intel_video_pro_analyzer.png "–≤–Ω—É—Ç—Ä–∏–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è intel video pro analyzer")

# –ö–∞–∫ –¥–µ–π—Å—Ç–≤—É–µ—Ç –≤–∏–¥–µ–æ –∫–æ–¥–µ–∫?

## –ß—Ç–æ? –ü–æ—á–µ–º—É? –ö–∞–∫?

**–ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∏–¥–µ–æ –∫–æ–¥–µ–∫?** –≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞, –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∏–ª–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∞—è, –∫–æ—Ç–æ—Ä–∞—è —Å–∂–∏–º–∞–µ—Ç –∏–ª–∏ —Ä–∞–∑–∂–∏–º–∞–µ—Ç —Ü–∏—Ñ—Ä–æ–≤–æ–µ –≤–∏–¥–µ–æ. **–ó–∞ —á–µ–º?** –û–±—â–µ—Å—Ç–≤—É, –∏ –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å —Ä—ã–Ω–∫—É –Ω—É–∂–Ω–æ –≤–∏–¥–µ–æ –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –ø—Ä–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º –æ–±—ä—ë–º–µ –ø–µ—Ä–µ–¥–∞—á–∏ –∏–ª–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –ü–æ–º–Ω–∏—Ç–µ –∫–æ–≥–¥–∞ –º—ã [–≤—ã—Å—á–∏—Ç–∞–ª–∏ –Ω—É–∂–Ω—ã–π –æ–±—ä–µ–º –ø–µ—Ä–µ–¥–∞—á–∏](#–æ—Å–Ω–æ–≤–Ω—ã–µ-—Ç–µ—Ä–º–∏–Ω—ã) –¥–ª—è –≤–∏–¥–µ–æ —É –∫–æ—Ç–æ—Ä–æ–≥–æ 30 –∫–∞–¥—Ä–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É, —Å –±–∏—Ç–æ–≤–æ–π –≥–ª—É–±–∏–Ω–Ω–æ–π 24 –±–∏—Ç–∞ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ 480—Ö240? –≠—Ç–æ –±—ã–ª–æ **82.944mbps** –±–µ–∑ –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏. –¢–æ–ª—å–∫–æ —Ç–∞–∫ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å HD/FullHD/4K –≤–∏–¥–µ–æ –∫ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä—É –∏–ª–∏ –ø–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É. **–ö–∞–∫?** –ú—ã –ø—Ä–æ–≤–µ–¥—ë–º –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã–π –æ–±–∑–æ—Ä –≥–ª–∞–≤–Ω—ã–π —Ç–µ—Ö–Ω–∏–∫–∏ –∑–¥–µ—Å—å.

> **–ö–æ–¥–µ–∫ –∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä?**
>
> –û—á–µ–Ω—å —á–∞—Å—Ç–æ –ø—É—Ç–∞–µ—Ç—Å—è —Ü—ã—Ñ—Ä–æ–≤–æ–π –≤–∏–¥–µ–æ –∫–æ–¥–µ–∫ –∏ [—Ü—ã—Ñ—Ä–æ–≤–æ–π –≤–∏–¥–µ–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä](https://en.wikipedia.org/wiki/Digital_container_format). **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä** –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –∫–∞–∫ –æ–±–µ—Ä—Ç–æ–∫ –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ –≤–∏–¥–µ–æ (–∏ –≤–æ–∑–º–æ–∂–Ω–æ –æ –∑–≤—É–∫–µ). **–°–∂–∞—Ç–æ–µ –≤–∏–¥–µ–æ** –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ–≥–æ –¥o—Å—Ç–∞–≤–æ—á–Ω–æ–µ —Å–æ–¥–µ—Ä–∂a–Ω–∏–µ.
>
> –û–±—ã—á–Ω–æ, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∏–ø –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∞–π–ª `video.mp4` —Å–∫–æ—Ä–µ–µ –≤—Å—è–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä **[MPEG-4 Part 14](https://en.wikipedia.org/wiki/MPEG-4_Part_14)**, –∞ —Ñ–∞–π–ª —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º `video.mkv` —Å–∫–æ—Ä–µ–µ –≤—Å—è–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä **[matroska](https://en.wikipedia.org/wiki/Matroska)**. –ß—Ç–æ –±—ã –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω–Ω—ã–º, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [ffmpeg –∏–ª–∏ mediainfo](/encoding_pratical_examples.md#inspect-stream).

## –ò—Å—Ç–æ—Ä–∏—è

–ü—Ä–µ–∂–¥–µ —á–µ–º –º—ã —É–≥–ª—É–±–∏–º—Å—è –≤–æ –º–µ—Ö–∞–Ω–∏–∑–º—ã —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–µ–∫–∞, –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –≤ –ø—Ä–æ—à–ª–æ–µ, —á—Ç–æ–±—ã –Ω–µ–º–Ω–æ–≥–æ –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞—Ä—ã–µ –≤–∏–¥–µ–æ–∫–æ–¥–µ–∫–∏.

–í–∏–¥–µ–æ –∫–æ–¥–µ–∫ [H.261](https://en.wikipedia.org/wiki/H.261) –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ —Ä–æ–¥–∏–ª—Å—è –≤ 1990, –∏ –±—ã–ª —É—Å—Ç—Ä–æ–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ **–æ–±–º–µ–Ω–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–∫–æ—Ä–æ—Å—Ç—å—é 64 kbit/s**. –£–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–µ—Ç–æ–¥—ã –Ω–∞ –ø–æ–¥–æ–±–∏–µ —Ü–≤–µ—Ç–æ–≤–æ–π –¥–µ—Å–∫—Ç–∏—Ä–µ–∑–∞—Ü–∏–∏, –º–∞–∫—Ä–æ –±–ª–æ–∫–∏ –µ —Ç.–¥. –í 1995 –≥–æ–¥—É, –≤—ã–ø—É—Å—Ç–∏–ª–∏ –∫–æ–¥–µ–∫ **H.263** - —ç—Ç–æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç –ø—Ä–æ–∂–∏–ª –¥–æ 2001–æ–≥–æ, –≤—Ä–µ–º—è –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞–¥ –Ω–∏–º –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–ª–∏ –∏ —É–ª—É—á—à–∞–ª–∏.


–í 2003 –≥–æ–¥—É –±—ã–ª–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ø–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è **H.264 / AVC**. –í —Ç–æ–º –∂–µ –≥–æ–¥—É –∫–æ–º–ø–∞–Ω–∏—è –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º **TrueMotion** –≤—ã–ø—É—Å—Ç–∏–ª–∞ —Å–≤–æ–π –≤–∏–¥–µ–æ–∫–æ–¥–µ–∫ **–±–µ–∑ –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã—Ö –æ—Ç—á–∏—Å–ª–µ–Ω–∏–π** –¥–ª—è —Å–∂–∞—Ç–∏—è –≤–∏–¥–µ–æ —Å –ø–æ—Ç–µ—Ä—è–º–∏ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º **VP3**. –í 2008 –≥–æ–¥—É **Google –∫—É–ø–∏–ª** —ç—Ç—É –∫–æ–º–ø–∞–Ω–∏—é, –≤—ã–ø—É—Å—Ç–∏–≤ **VP8** –≤ —Ç–æ–º –∂–µ –≥–æ–¥—É. –í –¥–µ–∫–∞–±—Ä–µ 2012 –≥–æ–¥–∞ Google –≤—ã–ø—É—Å—Ç–∏–ª **VP9**, –∏ –æ–Ω **–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ ¬æ –∏–∑ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤** (–≤–∫–ª—é—á–∞—è –º–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞).


**[AV1](https://en.wikipedia.org/wiki/AOMedia_Video_1)** - —ç—Ç–æ –Ω–æ–≤—ã–π **–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–æ–¥–µ–∫**, —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∫–æ–¥–æ–º, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è [–ê–ª—å—è–Ω—Å–æ–º –æ—Ç–∫—Ä—ã—Ç—ã—Ö –º–µ–¥–∏–∞ (AOMedia)](http://aomedia.org/), –≤ –∫–æ—Ç–æ—Ä—É—é –≤—Ö–æ–¥—è—Ç **–∫–æ–º–ø–∞–Ω–∏–∏: Google, Mozilla, Microsoft, Amazon, Netflix, AMD, ARM, NVidia, Intel –∏ Cisco** –∏ –¥—Ä—É–≥–∏–µ. **–ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è** 0.1.0 —ç—Ç–∞–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–µ–∫–∞ **–±—ã–ª–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞ 7 –∞–ø—Ä–µ–ª—è 2016 –≥–æ–¥–∞**.

![–∏—Å—Ç–æ—Ä–∏—è –∫–æ–¥–µ–∫–æ–≤](/i/codec_history_timeline.png "–∏—Å—Ç–æ—Ä–∏—è –∫–æ–¥–µ–∫–æ–≤")
> #### –†–æ–∂–¥–µ–Ω–∏–µ AV1
>
> –í –Ω–∞—á–∞–ª–µ 2015 –≥–æ–¥–∞ Google —Ä–∞–±–æ—Ç–∞–ª–∏ –Ω–∞–¥ [VP10](https://en.wikipedia.org/wiki/VP9#Successor:_from_VP10_to_AV1), Xiph (Mozilla) —Ä–∞–±–æ—Ç–∞–ª–∏ –Ω–∞–¥ [Daala](https://xiph.org/daala/) –∏ Cisco –æ—Ç–∫—Ä—ã–ª–∏ —Å–≤–æ–π –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤–∏–¥–µ–æ–∫–æ–¥–µ–∫ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º [Thor](https://tools.ietf.org/html/draft-fuldseth-netvc-thor-03).
>
> –ó–∞—Ç–µ–º MPEG LA –æ–±—ä—è–≤–∏–ª–∏ –≥–æ–¥–æ–≤—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è HEVC (H.265) –∏ —Åto–π–º–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—å—è –≤ 8 —Ä–∞–∑ –≤—ã—à–µ, —á–µ–º H.264. –í—Å–∫–æ—Ä–µ –æ–Ω–∏ —Å–Ω–æ–≤–∞ –∏–∑–º–µ–Ω–∏–ª–∏ –ø—Ä–∞–≤–∏–ª–∞:
> * **–Ω–µ—Ç –≥–æ–¥–æ–≤–æ–≥–æ –ª–∏–º–∏—Ç–∞**,
> * **–ø–ª–∞—Ç–∞ –∑–∞ –∫–æ–Ω—Ç–µ–Ω—Ç**, (0,5% –æ—Ç –≤—ã—Ä—É—á–∫–∏) –∏
> * **–ü–ª–∞—Ç–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –ø—Ä–∏–º–µ—Ä–Ω–æ –≤ 10 —Ä–∞–∑ –≤—ã—à–µ, —á–µ–º h264**.
>
> [–ê–ª—å—è–Ω—Å –¥–ª—è –æ—Ç–∫—Ä—ã—Ç—ã—Ö –º–µ–¥–∏–∞](http://aomedia.org/about-us/) –±—ã–ª —Å–æ–∑–¥–∞–Ω –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è–º–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω—å—è (Intel, AMD, ARM, Nvidia, Cisco), –∫–æ–Ω—Ç–µ–Ω—Ç –¥–æ—Å—Ç–∞–≤—á–∏–∫–∞–º–∏ (Google, Netflix, Amazon) —Å–æ–∑–¥–∞—Ç–µ–ª—è–º–∏ –≤—Ä–∞—É–∑–µ—Ä–æ–≤ (Google, Mozilla) –∏ –¥—Ä—É–≥–∏–º–∏.
>
> –£ –∫–æ–º–ø–∞–Ω–∏–π –±—ã–ª–∞ –æ–±—â–∞—è —Ü–µ–ª—å - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤–∏–¥–µ–æ –∫–æ–¥–µ–∫, —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–∞–≥–æ —è–≤–ª—è–µ—Ç—Å—è AV1, —É –∫–æ—Ç–æ—Ä–æ–≥–æ [–ø–∞—Ç–µ–Ω—Ç–Ω–∞—è –ª–∏—Ü–µ–Ω–∑–∏—è –Ω–∞ –º–Ω–æ–≥–æ –ø—Ä–æ—â–µ](http://aomedia.org/license/patent/). **–¢–∏–º–æ—Ç–∏ –ë. –¢–µ—Ä—Ä–∏–±–µ—Ä—Ä–∏** —Å–¥–µ–ª–∞–ª –ø–æ—Ç—Ä—è—Å–∞—é—â—É—é –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —è–≤–ª—è–µ—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞, –æ [–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ AV1, –º–æ–¥–µ–ª–∏ –ª–∏—Ü–µ–Ω–∑–∏–∏ –∏ –µ–µ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏](https://www.youtube.com/watch?v=lzPaldsmJbk ).
>
> –í—ã –±—É–¥–µ—Ç–µ —É–¥–∏–≤–ª–µ–Ω—ã, —É–∑–Ω–∞–≤ —á—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ **–ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥–µ–∫ AV1 —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä**: http://aomanalyzer.org/
>
>![–±—Ä–∞—É–∑–µ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä av1](/i/av1_browser_analyzer.png "–±—Ä–∞—É–∑–µ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä av1")
>
> PS: –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ–± –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–¥–µ–∫–æ–≤, –≤–∑–≥–ª—è–Ω–∏—Ç–µ –Ω–∞ [–ø–∞—Ç–µ–Ω—Ç—ã –¥–ª—è —Å–∂–∞—Ç–∏—è –≤–∏–¥–µ–æ](https://www.vcodex.com/video-compression-patents/).

## –û–±—â–∏–π –∫–æ–¥–µ–∫

–°–µ–π—á–∞—Å –º—ã –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –æ–ø–∏—Å–∞—Ç—å **–æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –≤–∏–¥–µ–æ–∫–æ–¥–µ–∫–∞**, –∫–æ–Ω—Ü–µ–ø—Ü–∏–π –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª–µ–∑–Ω—ã –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–¥–µ–∫–∞—Ö, –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ VP9, ‚Äã‚ÄãAV1 –∏ HEVC. –≠—Ç–æ –±—É–¥—É—Ç —É–ø—Ä–æ—â–µ–Ω–Ω—ã–µ —Å—Ö–µ–º—ã, —Ö–æ—Ç—è –∏–Ω–æ–≥–¥–∞ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã (–≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ H.264) –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–µ—Ö–Ω–∏–∫–∏.

## 1-–π —à–∞–≥ - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

–ü–µ—Ä–≤—ã–º —à–∞–≥–æ–º –¥–µ–π—Å—Ç–≤–∏—è –∫–æ–¥–µ–∫–∞ —è–≤–ª—è–µ—Ç—Å—è **—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–∞–¥—Ä–∞** –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ **—Ä–∞–∑–¥–µ–ª–æ–≤, –ø–æ–¥—Ä–∞–∑–¥–µ–ª–æ–≤** –∏ —Ç.–¥.

![—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π](/i/picture_partitioning.png "—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π")

**–ó–∞—á–µ–º?** –ï—Å—Ç—å –º–Ω–æ–≥–æ –ø—Ä–∏—á–∏–Ω - —Ä–∞–∑–¥–µ–ª—è—è –∫–∞—Ä—Ç–∏–Ω–∫—É, –º—ã –º–æ–∂–µ–º —Ç–æ—á–Ω–µ–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–æ–≥–Ω–æ–∑—ã, –∏—Å–ø–æ–ª—å–∑—É—è –º–∞–ª–µ–Ω—å–∫–∏–µ —Ä–∞–∑–¥–µ–ª—ã –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –¥–≤–∏–∂—É—â–∏—Ö—Å—è —á–∞—Å—Ç–µ–π –≤–∏–¥–µ–æ –∏ –±–æ–ª—å—à–∏–µ —Ä–∞–∑–¥–µ–ª—ã –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ–Ω–∞.

–û–±—ã—á–Ω–æ –∫–æ–¥–µ–∫–∏ **–æ—Ä–≥–∞–Ω–∏–∑—É—é—Ç —ç—Ç–∏ —Ä–∞–∑–¥–µ–ª—ã** –≤ —Å—Ä–µ–∑—ã (–∏–ª–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã), –º–∞–∫—Ä–æ (–∏–ª–∏ –±–ª–æ–∫–∏ —Å—Ö–µ–º—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è) –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–æ–≤. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —ç—Ç–∏—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ –≤–∞—Ä—å–∏—Ä—É–µ—Ç—Å—è, HEVC —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç 64x64, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ AVC –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 16x16, –Ω–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª—ã –º–æ–≥—É—Ç –¥–æ—Å—Ç–∏–≥–∞—Ç—å —Ä–∞–∑–º–µ—Ä–æ–≤ 4x4.

–í—ã –ø–æ–º–Ω–∏—Ç–µ **—Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –∫–∞–¥—Ä–æ–≤**? –í–æ–∑–º–æ–∂–Ω–æ **–ø—Ä–∏–º–µ–Ω–∏—Ç—å —ç—Ç–∏ –∏–¥–µ–∏ –∏ –∫ –±–ª–æ–∫–∞–º**, –ø–æ—ç—Ç–æ–º—É —É –Ω–∞—Å –º–æ–≥—É—Ç –±—ã—Ç—å I-Slice, B-Slice, I-Macroblock –∏ —Ç.–¥.

> ### –ü—Ä–∞–∫—Ç–∏–∫–∞: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–¥–µ–ª–æ–≤
> –ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [Intel Video Pro Analyzer](https://software.intel.com/en-us/intel-video-pro-analyzer) (–ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–ª–∞—Ç–Ω–∞—è, —Ö–æ—Ç—è –µ—Å—Ç—å –±–µ—Å—Ç–ø–ª–∞—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è –≥–¥–µ –º–æ–∂–Ω–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–≤—ã—Ö –¥–µ—Å—è—Ç—å –∫–∞–¥—Ä–æ–≤). –í–æ—Ç [—Ä–∞–∑–¥–µ–ª—ã VP9](/encoding_pratical_examples.md#transcoding).
>
> ![—Ä–∞–∑–¥–µ–ª—ã VP9 intel video pro analyzer ](/i/paritions_view_intel_video_pro_analyzer.png "—Ä–∞–∑–¥–µ–ª—ã VP9 intel video pro analyzer")

## 2-–π —à–∞–≥ - –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è

–ö–∞–∫ —Ç–æ–ª—å–∫–æ —É –Ω–∞—Å –µ—Å—Ç—å —Ä–∞–∑–¥–µ–ª—ã, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π. –î–ª—è [–º–µ–∂ –∫–∞–¥—Ä–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è](#–≤—Ä–µ–º–µ–Ω–Ω–∞—è-–∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å-–º–µ–∂-–ø—Ä–µ–¥—Å–∫–æ–∑–∞–Ω–∏–µ) –Ω–∞–º –Ω—É–∂–Ω–æ **–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–∫—Ç–æ—Ä—ã –¥–≤–∏–∂–µ–Ω–∏—è –∏ –æ—Å—Ç–∞—Ç–æ–∫**, –∞ –¥–ª—è [–≤–Ω—É—Ç—Ä–∏–∫–∞–¥—Ä–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è](#–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è-–∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å-–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ) –º—ã –±—É–¥–µ–º **–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –æ—Å—Ç–∞—Ç–æ–∫**.

## 3-–π —à–∞–≥ - —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –º—ã –ø–æ–ª—É—á–∏–º –æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –±–ª–æ–∫ (`–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª - —Ä–µ–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª`), –º—ã –º–æ–∂–µ–º **—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ** –æ–±—Ä–∞–∑–æ–º –∫–æ—Ç–æ—Ä—ã–º –¥–∞—Å—Ç –Ω–∞–º –∑–Ω–∞—Ç—å, –∫–∞–∫–∏–µ **–ø–∏–∫—Å–µ–ª–∏ –º—ã –º–æ–∂–µ–º –≤—ã–±—Ä–æ—Å–∏—Ç—å**, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–∏ —ç—Ç–æ–º **–æ–±—â–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ**. –ï—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∫–æ—Ç–æ—Ä—ã–µ —Ç—É—Ç –Ω–∞–º –ø–æ–º–æ–≥—É—Ç.

–•–æ—Ç—è –µ—Å—Ç—å [–¥—Ä—É–≥–∏–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏](https://en.wikipedia.org/wiki/List_of_Fourier-related_transforms#Discrete_transforms), –º—ã –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–∏—Å–∫—Ä–µ—Ç–Ω—É—é –∫–æ—Å–∏–Ω—É—Å–Ω—É—é —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é, –î–°–¢ (DCT). –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ [**DCT**](https://en.wikipedia.org/wiki/Discrete_cosine_transform):

* **–ü–µ—Ä–µ–≤–æ–¥–∏—Ç –±–ª–æ–∫–∏ –ø–∏–∫—Å–µ–ª–µ–π** –≤ **–±–ª–æ–∫–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ —á–∞—Å—Ç–æ—Ç–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤**.
* **–°–∂–∏–º–∞–µ—Ç** —ç–Ω–µ—Ä–≥–∏—é, –æ–±–ª–µ–≥—á–∞—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏.
* –Ø–≤–ª—è–µ—Ç—Å—è **–æ–±—Ä–∞—Ç–∏–º—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º**, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã –º–æ–∂–µ—Ç–µ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–∏–∫—Å–µ–ª—è–º.

> 2 —Ñ–µ–≤—Ä–∞–ª—è 2017 –≥. –°–∏–Ω—Ç—Ä–∞ –†. –î–∂. –ò –ë–∞–π–µ—Ä –§. –ú. –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª–∏ —Å–≤–æ—é —Å—Ç–∞—Ç—å—é [–î–°–¢-–ø–æ–¥–æ–±–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–∂–∞—Ç–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–ª—å–∫–æ 14 –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π](https://arxiv.org/abs/1702.00817).

–ù–µ –±–µ—Å–ø–æ–∫–æ–π—Ç–µ—Å—å, –µ—Å–ª–∏ –≤—ã –Ω–µ –ø–æ–Ω—è–ª–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –∫–∞–∂–¥–æ–≥–æ –ø—É–Ω–∫—Ç–∞, –º—ã –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –ø—Ä–æ–≤–µ—Å—Ç–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–¥—Ä–æ–±–Ω–µ–µ.

–î–∞–≤–∞–π—Ç–µ –≤–æ–∑—å–º–µ–º —Å–ª–µ–¥—É—é—â–∏–π **–±–ª–æ–∫ –ø–∏–∫—Å–µ–ª–µ–π** (8x8):

![–º–∞—Ç—Ä–∏—Ü–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø–∏–∫—Å–µ–ª–µ–π](/i/pixel_matrice.png "–º–∞—Ç—Ä–∏—Ü–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø–∏–∫—Å–µ–ª–µ–π")

–ö–æ—Ç–æ—Ä—ã–π —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (8x8):

![–º–∞—Ç—Ä–∏—Ü–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø–∏–∫—Å–µ–ª–µ–π](/i/gray_image.png "–º–∞—Ç—Ä–∏—Ü–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø–∏–∫—Å–µ–ª–µ–π")

–ö–æ–≥–¥–∞ –º—ã **–ø—Ä–∏–º–µ–Ω—è–µ–º –î–°–¢** –∫ —ç—Ç–æ–º—É –±–ª–æ–∫—É –ø–∏–∫—Å–µ–ª–µ–π, –º—ã –ø–æ–ª—É—á–∞–µ–º **–±–ª–æ–∫ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤** (8x8):

![–∑–Ω–∞—á–µ–Ω–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤](/i/dct_coefficient_values.png "–∑–Ω–∞—á–µ–Ω–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤")

–ò –µ—Å–ª–∏ –º—ã –æ—Ç—Ä–µ–Ω–¥–µ—Ä–∏–º —ç—Ç–æ—Ç –±–ª–æ–∫ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤, –º—ã –ø–æ–ª—É—á–∏–º —ç—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:

![–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ dct](/i/dct_coefficient_image.png "–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ dct")

–ö–∞–∫ –≤–∏–¥–Ω–æ, —ç—Ç–æ –Ω–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∏ –ø–æ—Ö–æ–∂–µ, —á—Ç–æ **–ø–µ—Ä–≤—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç** –æ—á–µ–Ω—å –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö. –≠—Ç–æ—Ç –ø–µ—Ä–≤—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∏–∑–≤–µ—Å—Ç–µ–Ω –∫–∞–∫ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç DC, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—è —Å–µ–±–µ **–≤—Å–µ –≤—ã–±–æ—Ä–∫–∏** –≤–æ –≤—Ö–æ–¥–Ω–æ–º –º–∞—Å—Å–∏–≤–µ, —á—Ç–æ-—Ç–æ **–Ω–∞–ø–æ–¥–æ–±–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ —á–∏—Å–ª–∞**.

–≠—Ç–æ—Ç –±–ª–æ–∫ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –æ–±–ª–∞–¥–∞–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º —Å–≤–æ–π—Å—Ç–≤–æ–º, –∑–∞–∫–ª—é—á–∞—é—â–∏–º—Å—è –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω –æ—Ç–¥–µ–ª—è–µ—Ç –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Ç –Ω–∏–∑–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã—Ö.

![—Å–≤–æ–π—Å—Ç–≤–æ —á–∞—Å—Ç–æ—Ç–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –î–°–¢](/i/dctfrequ.jpg "—Å–≤–æ–π—Å—Ç–≤–æ —á–∞—Å—Ç–æ—Ç–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –î–°–¢")

–ù–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ **–±–æ–ª—å—à–∞—è —á–∞—Å—Ç—å —ç–Ω–µ—Ä–≥–∏–∏** –±—É–¥–µ—Ç —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–∞ –Ω–∞ [**–±–æ–ª–µ–µ –Ω–∏–∑–∫–∏—Ö —á–∞—Å—Ç–æ—Ç–∞—Ö**](https://web.archive.org/web/20150129171151/https://www.iem.thm.de/telekom-labour/zinke/mk/mpeg2beg/whatisit.htm), –ø–æ—ç—Ç–æ–º—É –µ—Å–ª–∏ –º—ã —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –µ–≥–æ —á–∞—Å—Ç–æ—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ **–æ—Ç–±—Ä–æ—Å–∏–º –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–µ —á–∞—Å—Ç–æ—Ç–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã**, –º—ã –º–æ–∂–µ–º **—É–º–µ–Ω—å—à–∏—Ç—å –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö** –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø–∏—Å–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –Ω–µ –∂–µ—Ä—Ç–≤—É—è –∫–∞—á–µ—Å—Ç–≤–æ–º —Å–∏–∂–∫–æ–º —Å–∏–ª—å–Ω–æ.

> —á–∞—Å—Ç–æ—Ç–∞ –æ–∑–Ω–∞—á–∞–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä–æ –º–µ–Ω—è–µ—Ç—Å—è —Å–∏–≥–Ω–∞–ª

–î–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∑–Ω–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –ø–æ–ª—É—á–∏–ª–∏ –≤ —Ç–µ—Å—Ç–µ, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É—è –∏—Å—Ö–æ–¥–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –µ–≥–æ —á–∞—Å—Ç–æ—Ç—É (–±–ª–æ–∫ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤), –∏—Å–ø–æ–ª—å–∑—É—è –î–°–¢, –∞ –∑–∞—Ç–µ–º –æ—Ç–±—Ä–∞—Å—ã–≤–∞—è —á–∞—Å—Ç—å –Ω–∞–∏–º–µ–Ω–µ–µ –≤–∞–∂–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤.

–°–Ω–∞—á–∞–ª–∞ –º—ã –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –µ–≥–æ –≤ **—á–∞—Å—Ç–æ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å**.

![–∑–Ω–∞—á–µ–Ω–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤](/i/dct_coefficient_values.png "–∑–Ω–∞—á–µ–Ω–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤")

–î–∞–ª–µ–µ –º—ã –æ—Ç–±—Ä–∞—Å—ã–≤–∞–µ–º —á–∞—Å—Ç—å (67%) –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤, –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –Ω–∏–∂–Ω—é—é –ø—Ä–∞–≤—É—é —á–∞—Å—Ç—å.

![–û–±–Ω—É–ª–µ–Ω–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã](/i/dct_coefficient_zeroed.png "–û–±–Ω—É–ª–µ–Ω–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã")

–ù–∞–∫–æ–Ω–µ—Ü, –º—ã –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ —ç—Ç–æ–≥–æ –æ—Ç–±—Ä–æ—à–µ–Ω–Ω–æ–≥–æ –±–ª–æ–∫–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ (–ø–æ–º–Ω–∏—Ç–µ, –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–±—Ä–∞—Ç–∏–º—ã–º) –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –µ–≥–æ —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º.

![–æ—Ä–∏–≥–∏–Ω–∞–ª –Ω–∞–ø—Ä–æ—Ç–∏–≤ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–Ω–æ–≥–æ](/i/original_vs_quantized.png "–æ—Ä–∏–≥–∏–Ω–∞–ª –Ω–∞–ø—Ä–æ—Ç–∏–≤ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–Ω–æ–≥–æ")

–ö–∞–∫ –≤–∏–¥–Ω–æ, –æ–Ω–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –Ω–æ –≤ –Ω–µ–º –µ—Å—Ç—å –º–Ω–æ–≥–æ –æ—Ç–ª–∏—á–∏–π –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª–∞. –ú—ã **–≤—ã–±—Ä–æ—Å–∏–ª–∏ 67,1875%** –∏ –≤—Å–µ –∂–µ —Å–º–æ–≥–ª–∏ –ø–æ–ª—É—á–∏—Ç—å —Ö–æ—Ç—è –±—ã —á—Ç–æ-—Ç–æ –ø–æ—Ö–æ–∂–µ–µ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª. –ú—ã –º–æ–≥–ª–∏ –±—ã –±–æ–ª–µ–µ —Ä–∞–∑—É–º–Ω–æ –æ—Ç–±—Ä–æ—Å–∏—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –Ω–æ —ç—Ç–æ —Å–ª–µ–¥—É—é—â–∞—è —Ç–µ–º–∞.

> **–ö–∞–∂–¥—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤—Å–µ—Ö –ø–∏–∫—Å–µ–ª–µ–π**
>
> –í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –∫–∞–∂–¥—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ –æ–¥–∏–Ω –ø–∏–∫—Å–µ–ª—å, –∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≤–∑–≤–µ—à–µ–Ω–Ω—É—é —Å—É–º–º—É –≤—Å–µ—Ö –ø–∏–∫—Å–µ–ª–µ–π. –≠—Ç–æ—Ç —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π –∏ –≤—Ç–æ—Ä–æ–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤–µ—Å–æ–≤, —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞.
>
>![—Ä–∞—Å—á–µ—Ç –î–°–¢](/i/Applicat.jpg "—Ä–∞—Å—á–µ—Ç –î–°–¢")
>
> –ò—Å—Ç–æ—á–Ω–∏–∫: https://web.archive.org/web/20150129171151/https://www.iem.thm.de/telekom-labor/zinke/mk/mpeg2beg/whatisit.htm
>
> –í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è [–≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –î–°–¢, –≤–∑–≥–ª—è–Ω—É–≤ –Ω–∞ —ç—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ](/dct_better_explained.ipynb). –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–æ—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è [—Å–∏–º–≤–æ–ª "A"](https://en.wikipedia.org/wiki/Discrete_cosine_transform#Example_of_IDCT) —Å –ø–æ–º–æ—â—é –∫–∞–∂–¥–æ–≥–æ –≤–µ—Å–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞.
>
>! [] (https://upload.wikimedia.org/wikipedia/commons/5/5e/Idct-animation.gif)




<br/>

> ### –ü—Ä–∞–∫—Ç–∏–∫–∞: –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤
> –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–∏–≥—Ä–∞—Ç—Å—è —Å [–î–°–¢ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è–º–∏ —Ç—É—Ç](/uniform_quantization_experience.ipynb).

## 4-–π —à–∞–≥ - –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ

–ö–æ–≥–¥–∞ –º—ã –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ–º –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã, –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º —à–∞–≥–µ (—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è) –º—ã –¥–µ–ª–∞–ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—É—é —Ñ–æ—Ä–º—É –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏—è. –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –º—ã —Ä–µ—à–∏–ª–∏ –ø–æ—Ç–µ—Ä—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–ª–∏, –ø—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, –º—ã **–∫–≤–∞–Ω—Ç–æ–≤–∞–ª–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å–∂–∞—Ç–∏—è**.

–ö–∞–∫ –º—ã –º–æ–∂–µ–º –∫–≤–∞–Ω—Ç–æ–≤–∞—Ç—å –±–ª–æ–∫ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤? –û–¥–Ω–∏–º –ø—Ä–æ—Å—Ç—ã–º –º–µ—Ç–æ–¥–æ–º –±—ã–ª–æ –±—ã —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ, –≥–¥–µ –º—ã –±–µ—Ä–µ–º –±–ª–æ–∫, **–¥–µ–ª–∏–º –µ–≥–æ –Ω–∞ –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ** (10) –∏ –æ–∫—Ä—É–≥–ª—è–µ–º —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ.

![–∫–≤–∞–Ω—Ç–æ–≤–∞—Ç—å](/i/quantize.png "–∫–≤–∞–Ω—Ç–æ–≤–∞—Ç—å")

–ö–∞–∫ –º—ã –º–æ–∂–µ–º **–æ–±—Ä–∞—Ç–∏—Ç—å** (–ø–µ—Ä–µ–∫–≤–∞–Ω—Ç–æ–≤–∞—Ç—å) —ç—Ç–æ—Ç –±–ª–æ–∫ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤? –ú—ã –º–æ–∂–µ–º **—É–º–Ω–æ–∂–∏—Ç—å –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ–º** (10), –∫–æ—Ç–æ—Ä—ã–º –º—ã —Ä–∞–∑–¥–µ–ª–∏–ª–∏.

![–ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ](/i/re-quantize.png "–ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ")

–≠—Ç–æ—Ç **–ø–æ–¥—Ö–æ–¥ –Ω–µ –ª—É—á—à–∏–π**, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤–∞–∂–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞. –ú—ã –º–æ–≥–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–º–∞—Ç—Ä–∏—Ü—É –∫–≤–∞–Ω—Ç–æ–≤–∞—Ç–µ–ª–µ–π** –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, —ç—Ç–∞ –º–∞—Ç—Ä–∏—Ü–∞ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ –î–°–¢, –∫–≤–∞–Ω—Ç–æ–≤–∞—è –±–æ–ª—å—à–µ –Ω–∏–∂–Ω–µ–≥–æ –ø—Ä–∞–≤–æ–≥–æ –∏ –º–µ–Ω—å—à–µ –≤–µ—Ä—Ö–Ω–µ–≥–æ –ª–µ–≤–æ–≥–æ, [JPEG –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥](https://www.hdm-stuttgart.de/~maucher/Python/MMCodecs/html/jpegUpToQuant.html). –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å [–∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —ç—Ç—É –º–∞—Ç—Ä–∏—Ü—É](https://github.com/google/guetzli/blob/master/guetzli/jpeg_data.h#L40).

> ### –ü—Ä–∞–∫—Ç–æ–∫–∞: –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ
> –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–∏–≥—Ä–∞—Ç—å —Å [–∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ–º] (/ dct_experiences.ipynb).

## 5-–π —à–∞–≥ - —ç–Ω—Ç—Ä–æ–ø–∏–π–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –º—ã –∫–≤–∞–Ω—Ç–æ–≤–∞–ª–∏ –¥–∞–Ω–Ω—ã–µ (–±–ª–æ–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è / —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã / –∫–∞–¥—Ä—ã), –º—ã –≤—Å–µ –µ—â–µ –º–æ–∂–µ–º —Å–∂–∏–º–∞—Ç—å –∏—Ö –±–µ–∑ –ø–æ—Ç–µ—Ä—å. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–æ–≤ (–∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤) —Å–∂–∞—Ç–∏—è –¥–∞–Ω–Ω—ã—Ö. –ú—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è –∫—Ä–∞—Ç–∫–æ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –∏–∑ –Ω–∏—Ö, –¥–ª—è –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—É—é –∫–Ω–∏–≥—É [–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å–∂–∞—Ç–∏—è: —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤](https://www.amazon.com/Understanding-Compression-Data-Modern-Developers/dp/1491961538/).

### VLC –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ:

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –ø–æ—Ç–æ–∫ —Å–∏–º–≤–æ–ª–æ–≤: **a**, **e**, **r** –∏ **t**, –∏ –∏—Ö –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å (–æ—Ç 0 –¥–æ 1) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ ‚Äã‚Äã—ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü–µ–π.

|             | a   | e   | r    | t   |
|-------------|-----|-----|------|-----|
| –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | 0.3 | 0.3 | 0.2 |  0.2 |

–ú—ã –º–æ–∂–µ–º –ø—Ä–∏—Å–≤–æ–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–æ–¥—ã (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ –º–∞–ª–µ–Ω—å–∫–∏–µ) –Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω—ã–º, –∞ –±–æ–ª–µ–µ –∫—Ä—É–ø–Ω—ã–µ –∫–æ–¥—ã –Ω–∞–∏–º–µ–Ω–µ–µ –≤–µ—Ä–æ—è—Ç–Ω—ã–º.

|             | a   | e   | r    | t   |
|-------------|-----|-----|------|-----|
| –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | 0.3 | 0.3 | 0.2 | 0.2 |
| –∫–æ–¥         | 0 | 10 | 110 | 1110 |

–î–∞–≤–∞–π—Ç–µ —Å–æ–∂–º–µ–º –ø–æ—Ç–æ–∫ **eat**, –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—è —á—Ç–æ –º—ã –ø–æ—Ç—Ä–∞—Ç–∏–º 8 –±–∏—Ç–æ–≤ –Ω–∞ –∫–∞–∂–¥—ã–π —Å–∏–º–≤–æ–ª, —Ç–æ –≤ –æ–±—â–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –º—ã —Ç—Ä–∞—Ç–∏–º **24 –±–∏—Ç–∞** –±–µ–∑ –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ —Å–∂–∞—Ç–∏—è. –ù–æ –≤ —Å–ª—É—á–∞–µ –∑–∞–º–µ–Ω—ã –∫–∞–∂–¥–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ –Ω–∞ –µ–≥–æ –∫–æ–¥ –º—ã –º–æ–∂–µ–º —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –º–µ—Å—Ç–æ.

–ü–µ—Ä–≤—ã–π —à–∞–≥ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–∏–º–≤–æ–ª–∞ **e**, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–≤–µ–Ω `10`, –≤—Ç–æ—Ä–æ–π —Å–∏–º–≤–æ–ª **–∞** –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —á—Ç–æ –±—ã –ø–æ–ª—É—á–∏—Ç—å `[10][0]` –∏, –Ω–∞–∫–æ–Ω–µ—Ü, —Ç—Ä–µ—Ç–∏–π —Å–∏–º–≤–æ–ª **t**, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –Ω–∞—à –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π —Å–∂–∞—Ç—ã–π –ø–æ—Ç–æ–∫ –±–∏—Ç–æ–≤ —Ä–∞–≤–Ω—ã–º `[10][0][1110]` –∏–ª–∏ `1001110`, –∫–æ—Ç–æ—Ä–æ–º—É –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ **7 –±–∏—Ç–æ–≤** (—Ç.–µ 3.4 —Ä–∞–∑–∞ –º–µ–Ω—å—à–µ –º–µ—Å—Ç–∞, —á–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫).

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –∫–∞–∂–¥—ã–π –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø—Ä–µ—Ñ–∏–∫—Å –∫–æ–¥ [–•–∞—Ñ—Ñ–º–∞–Ω –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –≤–∞–º –Ω–∞–π—Ç–∏ —ç—Ç–∏ –Ω–æ–º–µ—Ä–∞](https://en.wikipedia.org/wiki/Huffman_coding). –•–æ—Ç—è —É —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –µ—Å—Ç—å [–≤–∏–¥–µ–æ–∫–æ–¥–µ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å–µ –µ—â–µ –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç](https://en.wikipedia.org/wiki/Context-adaptive_variable-length_coding) –µ–≥–æ, –∏ —ç—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –º–Ω–æ–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–µ–±—É–µ—Ç —Å–∂–∞—Ç–∏—è.

–ö–æ–¥–µ—Ä –∏ –¥–µ–∫–æ–¥–µ—Ä **–¥–æ–ª–∂–Ω—ã –∑–Ω–∞—Ç—å** —Ç–∞–±–ª–∏—Ü—É —Å–∏–º–≤–æ–ª–æ–≤ —Å –µ–µ –∫–æ–¥–æ–º, –ø–æ—ç—Ç–æ–º—É –≤–∞–º —Ç–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–∞–±–ª–∏—Ü—É.

### –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ:

–î–∞–≤–∞–π —Å–∫–∞–∂–µ–º —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –ø–æ—Ç–æ–∫ —Å–∏–º–≤–æ–ª–æ–≤: **a**, **e**, **r**, **s**, **t** –∏ –∏—Ö –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ–∫–∞–∑–∞–Ω–∞ –Ω–∞ —Ç–∞–±–ª–∏—Ü–µ:

|             | a   | e   | r    | s    | t   |
|-------------|-----|-----|------|------|-----|
| –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | 0.3 | 0.3 | 0.15 | 0.05 | 0.2 |

–ó–Ω–∞—è –æ–± —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü–µ, –º—ã –º–æ–∂–µ–º –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –æ–±–ª–∞—Å—Ç–∏ —Å–æ –≤—Å–µ–º–∏ –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ–º–∏ –∫–æ—Ç–æ—Ä—ã–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è —á–∞—â–µ –≤—Å–µ–≥–æ. 

![–Ω–∞—á–∞–ª—å–Ω—ã–π –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω](/i/range.png "–Ω–∞—á–∞–ª—å–Ω—ã–π –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω")

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –∑–∞–∫–æ–¥–∏—Ä—É–µ–º –ø–æ—Ç–æ–∫ **eat**, –º—ã –≤—ã–±–∏—Ä–∞–µ–º –ø–µ—Ä–≤—ã–π —Å–∏–º–≤–æ–ª **a**, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –Ω–æ–≤–æ–º –ø–æ–¥–¥–∏–∞–ø–∞–∑–æ–Ω–µ **0.3 –¥–æ 0.6** (–Ω–æ –Ω–µ –≤–∫–ª—é—á–µ–Ω), –∏ –º—ã –±–µ—Ä–µ–º —ç—Ç–æ—Ç –ø–æ–¥–¥–∏–∞–ø–∞–∑–æ–Ω –∏ —Å–Ω–æ–≤–∞ —Ä–∞–∑–¥–µ–ª—è–µ–º –µ–≥–æ, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–µ –∂–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Ä–∞–Ω–µ–µ, –Ω–æ –≤ —ç—Ç–æ–º –Ω–æ–≤–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ.

![–≤—Ç–æ—Ä–æ–π –ø–æ–¥–¥–∏–∞–ø–∞–∑–æ–Ω](/i/second_subrange.png "–≤—Ç–æ—Ä–æ–π –ø–æ–¥–¥–∏–∞–ø–∞–∑–æ–Ω")

–î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏–º –∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à –ø–æ—Ç–æ–∫ **eat**, –º—ã –≤—ã–±–µ—Ä–µ–º –≤—Ç–æ—Ä–æ–π —Å–∏–º–≤–æ–ª **a**, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –Ω–æ–≤–æ–º –ø–æ–¥–¥–∏–∞–ø–∞–∑–æ–Ω–µ **0.3 –¥–æ 0.39**, –∞ –∑–∞—Ç–µ–º –º—ã –±–µ—Ä–µ–º –Ω–∞—à –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–∏–º–≤–æ–ª **t**, –ø–æ–≤—Ç–æ—Ä—è—è –ø—Ä–æ—Ü–µ—Å—Å —á—Ç–æ –±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø–æ–¥–¥–∏–∞–ø–∞–∑–æ–Ω **0.354 –¥–æ 0.372**.

![–æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω](/i/arithimetic_range.png "–∫–æ–Ω–µ—á–Ω—ã–π –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω")

–ù–∞–º –ø—Ä–æ—Å—Ç–æ –Ω—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —á–∏—Å–ª–æ –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –ø–æ–¥–¥–∏–∞–ø–∞–∑–æ–Ω–µ **0.354 –¥–æ 0.372**, –¥–∞–≤–∞–π—Ç–µ –≤—ã–±–µ—Ä–µ–º **0.36**, –Ω–æ –º—ã –º–æ–∂–µ–º –≤—ã–±—Ä–∞—Ç—å –ª—é–±–æ–µ —á–∏—Å–ª–æ –≤ —ç—Ç–æ–º –ø–æ–¥–¥–∏–∞–ø–∞–∑–æ–Ω–µ. –° **—Ç–æ–ª—å–∫–æ** —ç—Ç–∏–º –Ω–æ–º–µ—Ä–æ–º –º—ã —Å–º–æ–∂–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞—à –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ **eat**. –ï—Å–ª–∏ –ø–æ–¥—É–º–∞—Ç—å –æ–± —ç—Ç–æ–º, –º—ã –∫–∞–∫ –±—ã –Ω–∞—Ä–∏—Å–æ–≤–∞–ª–∏ –ª–∏–Ω–∏—é –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—à–µ–≥–æ –ø–æ—Ç–æ–∫–∞.

![–æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π –æ–±—Ö–æ–¥ –¥–∏–∞–ø–∞–∑–æ–Ω–∞](/i/range_show.png "–æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π –æ–±—Ö–æ–¥ –¥–∏–∞–ø–∞–∑–æ–Ω–∞")

**–û–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å** (—Ç.–µ. –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ) –æ–¥–∏–Ω–∞–∫–æ–≤–æ –ø—Ä–æ—Å—Ç, —Å –Ω–∞—à–∏–º —á–∏—Å–ª–æ–º **0,36** –∏ –Ω–∞—à–∏–º –∏—Å—Ö–æ–¥–Ω—ã–º –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º –º—ã –º–æ–∂–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ—Ç –∂–µ –ø—Ä–æ—Ü–µ—Å—Å, –Ω–æ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—è —ç—Ç–æ —á–∏—Å–ª–æ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ—Ç–æ–∫, –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞ —ç—Ç–∏–º –Ω–æ–º–µ—Ä–æ–º.

–° –ø–µ—Ä–≤—ã–º –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º –º—ã –∑–∞–º–µ—Ç–∏–ª–∏ —á—Ç–æ –Ω–∞—à–µ —á–∏—Å–ª–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ä–µ–∑—É, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ –Ω–∞—à –ø–µ—Ä–≤—ã–π —Å–∏–º–≤–æ–ª, —Ç–µ–ø–µ—Ä—å –º—ã —Å–Ω–æ–≤–∞ —Ä–∞–∑–±–∏–≤–∞–µ–º —ç—Ç–æ—Ç –ø–æ–¥–¥–∏–∞–ø–∞–∑–æ–Ω, –≤—ã–ø–æ–ª–Ω—è—è —Ç–æ—Ç –∂–µ –ø—Ä–æ—Ü–µ—Å—Å —á—Ç–æ –∏ —Ä–∞–Ω—å—à–µ, –∏ –º—ã –º–æ–∂–µ–º –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ **0.36** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–∏–º–≤–æ–ª—É **a** –∏ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –º—ã –ø–æ–≤—Ç–æ—Ä–∏–º –ø—Ä–æ—Ü–µ—Å—Å, –º—ã –ø–æ–¥—Ö–æ–¥–∏–º –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É —Å–∏–º–≤–æ–ª—É **t** (—Ñ–æ—Ä–º–∏—Ä—É—è –Ω–∞—à –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ *eat*).

–ö–æ–¥–µ—Ä –∏ –¥–µ–∫–æ–¥–µ—Ä **–¥–æ–ª–∂–Ω—ã –∑–Ω–∞—Ç—å** —Ç–∞–±–ª–∏—Ü—É –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π —Å–∏–º–≤–æ–ª–æ–≤, –ø–æ—ç—Ç–æ–º—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–∞–±–ª–∏—Ü—É.

–ù–µ –ø–ª–æ—Ö–æ, –ø—Ä–∞–≤–¥–∞? –õ—é–¥–∏ —á–µ—Ä—Ç–æ–≤—Å–∫–∏ —É–º–Ω—ã, —á—Ç–æ–±—ã –ø—Ä–∏–¥—É–º–∞—Ç—å —Ç–∞–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ [–≤–∏–¥–µ–æ–∫–æ–¥–µ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç](https://en.wikipedia.org/wiki/Context-adaptive_binary_arithmetic_coding) —ç—Ç—É —Ç–µ—Ö–Ω–∏–∫—É (–∏–ª–∏, –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ, –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç –µ–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–ø—Ü–∏–∏).

–ò–¥–µ—è —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ–±—ã —Å–∂–∞—Ç—å –±–µ–∑ –ø–æ—Ç–µ—Ä—å –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –±–∏—Ç–æ–≤, –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ –≤ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–æ–Ω–Ω—ã –¥–µ—Ç–∞–ª–µ–π, –ø—Ä–∏—á–∏–Ω, –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–≤ –∏ —Ç. –î. –ù–æ [–≤—ã –¥–æ–ª–∂–Ω—ã —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ](https://www.amazon.com/Understanding-Compression-Data-Modern-Developers/dp/1491961538/) –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞. –ë–æ–ª–µ–µ –Ω–æ–≤—ã–µ –∫–æ–¥–µ–∫–∏ –ø—ã—Ç–∞—é—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ [–∞–ª–≥–æ—Ä–∏—Ç–º—ã —ç–Ω—Ç—Ä–æ–ø–∏–π–Ω–æ–≥–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–∞–ø–æ–¥–æ–±–∏–µ ANS.](https://en.wikipedia.org/wiki/Asymmetric_Numeral_Systems)

> ### –ü—Ä–∞–∫—Ç–∏–∫–∞: CABAC vs CAVLC
> –í—ã –º–æ–∂–µ—Ç–µ [—Å–æ–∑–¥–∞—Ç—å –¥–≤–∞ –ø–æ—Ç–æ–∫–∞, –æ–¥–∏–Ω —Å CABAC and –¥—Ä—É–≥–æ–π —Å CAVLC](https://github.com/leandromoreira/introduction_video_technology/blob/master/encoding_pratical_examples.md#cabac-vs-cavlc) and **—Å—Ä–∞–≤–Ω–∏—Ç—å –≤—Ä–µ–º—è** –∑–∞–Ω—è—Ç–æ–µ –¥–ª—è –∏—Ö —Å–æ–∑–¥–∞–Ω–∏–µ, –∞ —Ç–∞–∫ –∂–µ **–∫–æ–Ω–µ—á–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞**.

## 6-–π —à–∞–≥ - —Ñ–æ—Ä–º–∞—Ç –±–∏—Ç–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –º—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –≤—Å–µ —ç—Ç–∏ —à–∞–≥–∏, –Ω–∞–º –Ω—É–∂–Ω–æ **—É–ø–∞–∫–æ–≤–∞—Ç—å —Å–∂–∞—Ç—ã–µ –∫–∞–¥—Ä—ã –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∫ —ç—Ç–∏–º —à–∞–≥–∞–º**. –ù–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–æ–±—â–∏—Ç—å –¥–µ–∫–æ–¥–µ—Ä—É **–æ —Ä–µ—à–µ–Ω–∏—è—Ö, –ø—Ä–∏–Ω—è—Ç—ã—Ö –∫–æ–¥–µ—Ä–æ–º**, –Ω–∞–ø—Ä–∏–º–µ—Ä –±–∏—Ç–æ–≤–∞—è –≥–ª—É–±–∏–Ω–∞, —Ü–≤–µ—Ç–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è—Ö (–≤–µ–∫—Ç–æ—Ä—ã –¥–≤–∏–∂–µ–Ω–∏—è, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è), –ø—Ä–æ—Ñ–∏–ª—å, —É—Ä–æ–≤–µ–Ω—å, —á–∞—Å—Ç–æ—Ç–∞ –∫–∞–¥—Ä–æ–≤, —Ç–∏–ø –∫–∞–¥—Ä–∞, –Ω–æ–º–µ—Ä –∫–∞–¥—Ä–∞ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.

–ú—ã –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ –∏–∑—É—á–∏–º –ø–æ—Ç–æ–∫ –±–∏—Ç–æ–≤ H.264. –ù–∞—à –ø–µ—Ä–≤—ã–π —à–∞–≥ - [—Å–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∏—Ç–æ–≤—ã–π –ø–æ—Ç–æ–∫ H.264 <sup>*</sup>](/encoding_pratical_examples.md#generate-a-single-frame-h264-bitstream), —á—Ç–æ –º—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é –Ω–∞—à–µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ [ffmpeg](http://ffmpeg.org/).

```
./s/ffmpeg -i /files/i/minimal.png -pix_fmt yuv420p /files/v/minimal_yuv420.h264
```

> <sup>*</sup> ffmpeg –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ–±–∞–≤–ª—è–µ—Ç –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –≤–∏–¥–µ **SEI NAL** - –≤—Å–∫–æ—Ä–µ –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–º, —á—Ç–æ —Ç–∞–∫–æ–µ NAL.

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –±–∏—Ç–æ–≤ h264 —Å **–æ–¥–∏–Ω–æ—á–Ω—ã–º –∫–∞–¥—Ä–æ–º**, 64x64, —Å —Ü–≤–µ—Ç–æ–≤—ã–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º yuv420 –∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–ª–µ–¥—É—é—â–µ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–∞–¥—Ä–∞.

>![–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–∞–¥—Ä –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –±–∏—Ç–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞ h264](/i/minimal.png "–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–∞–¥—Ä –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –±–∏—Ç–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞ h264")

### H.264 –±–∏—Ç–æ–≤—ã–π –ø–æ—Ç–æ–∫

–°—Ç–∞–Ω–¥–∞—Ä—Ç AVC (H.264) –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ **–º–∞–∫—Ä–æ –∫–∞–¥—Ä–∞—Ö** (–≤ —Å–º—ã—Å–ª–µ —Å–µ—Ç–∏), –Ω–∞–∑—ã–≤–∞–µ–º—ã—Ö **[NAL](https://en.wikipedia.org/wiki/Network_Abstraction_Layer)** (–°–µ—Ç–µ–≤–æ–π –£—Ä–æ–≤–µ–Ω—å A–±—Å—Ç—Ä–∞–∫—Ü–∏–∏). –û—Å–Ω–æ–≤–Ω–æ–π —Ü–µ–ª—å—é NAL —è–≤–ª—è–µ—Ç—Å—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ "–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫ —Å–µ—Ç–∏" –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ, —ç—Ç–æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–∞—Ö (–Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Ç–æ–∫–æ–≤), –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ (–Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–∞–∫–µ—Ç–æ–≤) –∏ —Ç.–¥.

![–ë–ª–æ–∫–∏ NAL H.264](/i/nal_units.png "–±–ª–æ–∫–∏ NAL H.264")

–°—É—â–µ—Å—Ç–≤—É–µ—Ç **[–º–∞—Ä–∫–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏](https://en.wikipedia.org/wiki/Frame_synchronization)** –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≥—Ä–∞–Ω–∏—Ü –µ–¥–∏–Ω–∏—Ü NAL. –ö–∞–∂–¥—ã–π –º–∞—Ä–∫–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `0x00 0x00 0x01`, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Å–∞–º–æ–≥–æ –ø–µ—Ä–≤–æ–≥–æ, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è` 0x00 0x00 0x00 0x01`. –ï—Å–ª–∏ –º—ã –∑–∞–ø—É—Å—Ç–∏–º **hexdump** –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ç–æ–∫–µ –±–∏—Ç–æ–≤ h264, –º—ã —Å–º–æ–∂–µ–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ –º–∏–Ω–∏–º—É–º —Ç—Ä–∏ NAL –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞.

![–º–∞—Ä–∫–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞ –±–ª–æ–∫–∞—Ö NAL](/iminimal_yuv420_hex.png "–º–∞—Ä–∫–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞ –±–ª–æ–∫–∞—Ö NAL")

–ö–∞–∫ –º—ã —É–∂–µ –≥–æ–≤–æ—Ä–∏–ª–∏, –¥–µ–∫–æ–¥–µ—Ä—É –Ω–∞–¥–æ –∑–Ω–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –Ω–æ —Ç–∞–∫–∂–µ –¥–µ—Ç–∞–ª–∏ –≤–∏–¥–µ–æ, —Ñ—Ä–µ–π–º–∞, —Ü–≤–µ—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –¥—Ä—É–≥–∏–µ. **–ü–µ—Ä–≤—ã–π –±–∞–π—Ç** –∫–∞–∂–¥–æ–≥–æ NAL –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –µ–≥–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ **—Ç–∏–ø**.

| NAL type id  | Description  |
|---  |---|
| 0  |  Undefined |
| 1  |  Coded slice of a non-IDR picture |
| 2  |  Coded slice data partition A |
| 3  |  Coded slice data partition B |
| 4  |  Coded slice data partition C |
| 5  |  **IDR** Coded slice of an IDR picture |
| 6  |  **SEI** Supplemental enhancement information |
| 7  |  **SPS** Sequence parameter set |
| 8  |  **PPS** Picture parameter set |
| 9  |  Access unit delimiter |
| 10 |  End of sequence |
| 11 |  End of stream |
| ... |  ... |

–û–±—ã—á–Ω–æ –ø–µ—Ä–≤—ã–π NAL –±–∏—Ç–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **SPS**, —ç—Ç–æ—Ç —Ç–∏–ø NAL –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—â–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫–∏—Ö –∫–∞–∫ **–ø—Ä–æ—Ñ–∏–ª—å**, **—É—Ä–æ–≤–µ–Ω—å**, **—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ** –∏ –¥—Ä—É–≥–∏–µ.

–ï—Å–ª–∏ –º—ã –ø—Ä–æ–ø—É—Å—Ç–∏–º –ø–µ—Ä–≤—ã–π –º–∞—Ä–∫–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏, –º—ã –º–æ–∂–µ–º –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å **–ø–µ—Ä–≤—ã–π –±–∞–π—Ç**, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, –∫–∞–∫–æ–π **—Ç–∏–ø NAL** —è–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º.

–ù–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–≤—ã–π –±–∞–π—Ç –ø–æ—Å–ª–µ –º–∞—Ä–∫–µ—Ä–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ä–∞–≤–µ–Ω `01100111`, –≥–¥–µ –ø–µ—Ä–≤—ã–π –±–∏—Ç (`0`) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–æ–ª–µ **forbidden_zero_bit**, —Å–ª–µ–¥—É—é—â–∏–µ 2 –±–∏—Ç–∞ (`11`) —Å–æ–æ–±—â–∞—é—Ç –Ω–∞–º –ø–æ–ª–µ **nal_ref_idc** –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç –µ—Å–ª–∏ —ç—Ç–æ—Ç —è–≤–ª—è–µ—Ç—Å—è NAL –æ–ø–æ—Ä–Ω—ã–º –ø–æ–ª–µ–º –∏–ª–∏ –Ω–µ—Ç, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ 5 –±–∏—Ç–æ–≤ (`00111`) –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É—é—Ç –Ω–∞—Å –æ –ø–æ–ª–µ **nal_unit_type**, –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —ç—Ç–æ **SPS** (7) –µ–¥–∏–Ω–∏—Ü–∞ NAL.

–í—Ç–æ—Ä–æ–π –±–∞–π—Ç (`binary = 01100100, hex = 0x64, dec = 100`) SPS NAL - —ç—Ç–æ –ø–æ–ª–µ **profile_idc**, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –∫–æ–¥–∏—Ä–æ–≤—â–∏–∫, –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ **[–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –≤—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å](https://en.wikipedia.org/wiki/H.264/MPEG-4_AVC#Profiles)**, —ç—Ç–æ –≤—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å –±–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ B (–¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö) —Å—Ä–µ–∑–æ–≤.

![–î–≤–æ–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ SPS](/i/minimal_yuv420_bin.png "–¥–≤–æ–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ SPS")

–ö–æ–≥–¥–∞ –º—ã —á–∏—Ç–∞–µ–º —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ—Ç–æ–∫–∞ –±–∏—Ç–æ–≤ H.264 –¥–ª—è SPS NAL, –º—ã –Ω–∞–π–¥–µ–º –º–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–π, –Ω–∞–ø—Ä–∏–º–µ—Ä,  **parameter name**, **category** –∏ **description**, –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ `pic_width_in_mbs_minus_1` –∏ –ø–æ–ª—è `pic_height_in_map_units_minus_1`.

| Parameter name  | Category  |  Description  |
|---  |---|---|
| pic_width_in_mbs_minus_1 |  0 | ue(v) |
| pic_height_in_map_units_minus_1 |  0 | ue(v) |

> **ue(v)**: —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –±–µ–∑ –∑–Ω–∞–∫–∞ [Exp-Golomb-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π](https://pythonhosted.org/bitstring/exp-golomb.html)

–ï—Å–ª–∏ –º—ã –Ω–µ–º–Ω–æ–≥–æ –ø–æ—Å—á–∏—Ç–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —ç—Ç–∏—Ö –ø–æ–ª–µ–π, –º—ã –ø–æ–ª—É—á–∏–º **—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ**. –ú—ã –º–æ–∂–µ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å `1920 x 1080`, –∏—Å–ø–æ–ª—å–∑—É—è `pic_width_in_mbs_minus_1` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `119 ((119 + 1) * macroblock_size = 120 * 16 = 1920)`, –æ–ø—è—Ç—å –∂–µ —ç–∫–æ–Ω–æ–º—è –º–µ—Å—Ç–æ, –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å `1920`, –∫–∞–∫ –º—ã —ç—Ç–æ —Å–¥–µ–ª–∞–ª–∏ —Å `119`.

–ï—Å–ª–∏ –º—ã –ø—Ä–æ–¥–æ–ª–∂–∏–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞—à–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–µ –≤–∏–¥–µ–æ –≤ –¥–≤–æ–∏—á–Ω–æ–º –≤–∏–¥–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `xxd -b -c 11 v/minimal_yuv420.h264`), –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É NAL, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º–∏–º –∫–∞–¥—Ä–æ–º.

![h264 idr –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–ª–∞–π—Å–∞](/i/slice_nal_idr_bin.png "h264 idr –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–ª–∞–π—Å–∞")

–ú—ã –º–æ–∂–µ–º –≤–∏–¥–µ—Ç—å –µ–≥–æ –ø–µ—Ä–≤—ã–µ 6 –±–∞–π—Ç–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π: `01100101 10001000 10000100 00000000 00100001 11111111`. –ü–æ—Å–∫–æ–ª—å–∫—É –º—ã —É–∂–µ –∑–Ω–∞–µ–º, —á—Ç–æ –ø–µ—Ä–≤—ã–π –±–∞–π—Ç –≥–æ–≤–æ—Ä–∏—Ç –Ω–∞–º –æ —Ç–æ–º, —á—Ç–æ —ç—Ç–æ –∑–∞ —Ç–∏–ø NAL, –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ (`00101`) —ç—Ç–æ **IDR Slice (5)**, –∏ –º—ã –º–æ–∂–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ–≥–æ:

![–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å–ª–∞–π—Å–∞ h264](/i/slice_header.png "–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å–ª–∞–π—Å–∞ h264")

–ò—Å–ø–æ–ª—å–∑—É—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, –º—ã –º–æ–∂–µ–º –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–æ–π —Ç–∏–ø —Å–ª–∞–π—Å–∞ (**slice_type**), –Ω–æ–º–µ—Ä –∫–∞–¥—Ä–∞ (**frame_num**) —Å—Ä–µ–¥–∏ –¥—Ä—É–≥–∏—Ö –≤–∞–∂–Ω—ã—Ö –ø–æ–ª–µ–π.

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–ª–µ–π (`ue (v), me (v), se (v) –∏–ª–∏ te (v)`)), –Ω–∞–º –Ω—É–∂–Ω–æ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ, –∏—Å–ø–æ–ª—å–∑—É—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –¥–µ–∫–æ–¥–µ—Ä –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º [Exponential-Golomb](https://pythonhosted.org/bitstring/exp-golomb.html), —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ **–æ—á–µ–Ω—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**, –≥–ª–∞–≤–Ω—ã–º –æ–±—Ä–∞–∑–æ–º, –∫–æ–≥–¥–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

> –ó–Ω–∞—á–µ–Ω–∏—è **slice_type** –∏ **frame_num** —ç—Ç–æ–≥–æ –≤–∏–¥–µ–æ —Ä–∞–≤–Ω—ã 7 (I —Å—Ä–µ–∑) –∏ 0 (–ø–µ—Ä–≤—ã–π –∫–∞–¥—Ä).

–ú—ã –º–æ–∂–µ–º –≤–∏–¥–µ—Ç—å **–ø–æ—Ç–æ–∫ –±–∏—Ç–æ–≤ –∫–∞–∫ –ø—Ä–æ—Ç–æ–∫–æ–ª**, –∏ –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–ª–∏ –≤–∞–º –Ω–∞–¥–æ —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ–± —ç—Ç–æ–º –ø–æ—Ç–æ–∫–µ –±–∏—Ç–æ–≤, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ [—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ú–°–≠ H.264](http://www.itu.int/rec/T-REC-H.264-201610-I) –í–æ—Ç –º–∞–∫—Ä–æ—Å—Ö–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –≥–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—Å–∂–∞—Ç—ã–µ YUV).

![–ú–∞–∫—Ä–æ—Å—Ö–µ–º–∞ –±–∏—Ç–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞ h264](/ih264_bitstream_macro_diagram.png "–ú–∞–∫—Ä–æ—Å—Ö–µ–º–∞ –±–∏—Ç–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞ h264")

–ú—ã –º–æ–∂–µ–º –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –±–∏—Ç–æ–≤—ã–µ –ø–æ—Ç–æ–∫–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ [–±–∏—Ç–æ–≤—ã–π –ø–æ—Ç–æ–∫ VP9](https://storage.googleapis.com/downloads.webmproject.org/docs/vp9/vp9-bitstream-specification-v0.6-20160331-draft.pdf), [H.265 (HEVC)](http://handle.itu.int/11.1002/1000/11885-en?locatt=format:pdf) –∏–ª–∏ –¥–∞–∂–µ –Ω–∞—à **–Ω–æ–≤—ã–π –ª—É—á—à–∏–π –¥—Ä—É–≥** [**AV1** –ø–æ—Ç–æ–∫ –±–∏—Ç–æ–≤](https://medium.com/@mbebenita/av1-bitstream-analyzer-d25f1c27072b#.d5a89oxz8
), [–æ–Ω–∏ –≤—Å–µ –ø–æ—Ö–æ–∂–∏? –ù–µ—Ç](http://www.gpac-licensing.com/2016/07/12/vp9-av1-bitstream-format/), –Ω–æ –∫–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã –≤—ã—É—á–∏—Ç–µ –æ–¥–∏–Ω, –≤—ã –ª–µ–≥–∫–æ —Å–º–æ–∂–µ—Ç–µ –ø–æ–Ω—è—Ç—å –¥—Ä—É–≥–∏–µ.

> ### –ü—Ä–∞–∫—Ç–∏–∫–∞: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏—Ç–æ–≤–æ–≥–∞ –ø–æ—Ç–æ–∫–∞ H.264
> –ú—ã –º–æ–∂–µ–º [—Å–æ–∑–¥–∞—Ç—å –æ–¥–Ω–æ–∫–∞–¥—Ä–æ–≤–æ–µ –≤–∏–¥–µ–æ](https://github.com/leandromoreira/introduction_video_technology/blob/master/encoding_pratical_examples.md#generate-a-single-frame-video) –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [mediainfo](https://en.wikipedia.org/wiki/MediaInfo) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Ç–æ–∫–∞ –±–∏—Ç–æ–≤ H.264. –í—ã –¥–∞–∂–µ –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å [–∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±–∏—Ç–æ–≤—ã–π –ø–æ—Ç–æ–∫ h264 (AVC)](https://github.com/MediaArea/MediaInfoLib/blob/master/Source/MediaInfo/Video/File_Avc.cpp).
>
> ![mediainfo –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫ –±–∏—Ç–æ–≤ h264](/i/mediainfo_details_1.png "mediainfo –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫ –±–∏—Ç–æ–≤ h264")
>
> –ú—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [Intel Video Pro Analyzer](https://software.intel.com/en-us/intel-video-pro-analyzer), –∫–æ—Ç–æ—Ä—ã–π –ø–ª–∞—Ç–Ω—ã–π, —Ö–æ—Ç—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø—Ä–æ–±–Ω–∞—è –≤–µ—Ä—Å–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≤–∞—Å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 10 –∫–∞–¥—Ä–æ–≤ (–∫–æ—Ç–æ—Ä—ã—Ö –¥–ª—è —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª–µ–π –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ).
>
> ![intel video pro analyzer –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫ –±–∏—Ç–æ–≤ h264](/i/intel-video-pro-analyzer.png "intel video pro analyzer –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫ –±–∏—Ç–æ–≤ h264")

## –û–±–∑–æ—Ä

–ú—ã –∑–∞–º–µ—Ç–∏–º, —á—Ç–æ –º–Ω–æ–≥–∏–µ –∏–∑ **—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–¥–µ–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç—É –∂–µ –º–æ–¥–µ–ª—å, –∫–æ—Ç–æ—Ä—É—é –º—ã –∏–∑—É—á–∏–ª–∏**. –ú–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –±–ª–æ–∫-—Å—Ö–µ–º—É –≤–∏–¥–µ–æ–∫–æ–¥–µ–∫–∞ Thor –∏ —É–≤–∏–¥–µ—Ç—å —á—Ç–æ –æ–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —à–∞–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏–∑—É—á–∞–ª–∏. –ò–¥–µ—è —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ —Ç–µ–ø–µ—Ä—å –≤—ã –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ —ç—Ç–æ–π –æ–±–ª–∞—Å—Ç–∏.

![thor_codec_block_diagram](/i/thor_codec_block_diagram.png "thor_codec_block_diagram")

–†–∞–Ω–µ–µ –º—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–ª–∏, —á—Ç–æ –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è [139 –ì–ë –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∏–¥–µ–æ—Ñ–∞–π–ª–∞ –æ–¥–Ω–æ–≥–æ —á–∞—Å–∞ –≤ –¥–ª–∏–Ω–Ω–µ –ø—Ä–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ 720p –∏ 30 –∫/—Å](#—Ü–≤–µ—Ç–æ–≤–∞—è-—Å—É–±–¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏—è). –° –ø–æ–º–æ—â—é –º–µ—Ç–æ–¥–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å–∞–Ω—ã –∑–¥–µ—Å—å, —Ç–∞–∫–∏–µ –∫–∞–∫ **–º–µ–∂ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–∏–µ, —ç–Ω—Ç—Ä–æ–ø–∏–π–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥—Ä—É–≥–∏–µ**, —Ç–æ –∂–µ –≤–∏–¥–µ–æ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ–º–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–∂–Ω–æ —Å–∂–∞—Ç—å –¥–æ **—Ç–æ–ª—å–∫–æ 367.82 –ú–ë**.

> –ú—ã —Ä–µ—à–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **0.031 –±–∏—Ç –Ω–∞ –ø–∏–∫—Å–µ–ª—å** –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞ –≤–∏–¥–µ–æ, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –∑–¥–µ—Å—å.

## –ö–∞–∫ H.265 –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ª—É—á—à—É—é —Å—Ç–µ–ø–µ–Ω—å —Å–∂–∞—Ç–∏—è —á–µ–º H.264?

–ó–Ω–∞—è –±–æ–ª—å—à–µ –æ —Ç–æ–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–¥–µ–∫–∏, –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å –∫–∞–∫ –Ω–æ–≤—ã–µ –∫–æ–¥–µ–∫–∏ —Å–ø–æ—Å–æ–±–Ω—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å –º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –±–∏—Ç–æ–≤.

–ú—ã —Å—Ä–∞–≤–Ω–∏–º AVC –∏ HEVC, –ø–æ–º–Ω—è —á—Ç–æ —ç—Ç–æ –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å –º–µ–∂–¥—É –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ü–∏–∫–ª–æ–≤ –¶–ü (—Å–ª–æ–∂–Ω–æ—Å—Ç—å) –∏ —Å—Ç–µ–ø–µ–Ω—å—é —Å–∂–∞—Ç–∏—è.

HEVC –∏–º–µ–µ—Ç –±–æ–ª—å—à–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ **—Ä–∞–∑–¥–µ–ª–æ–≤** (–∏ **–ø–æ–¥—Ä–∞–∑–¥–µ–ª–æ–≤**), –∫–æ—Ç–æ—Ä—ã–µ —Ç–∞–∫ –∂–µ –∏ –±–æ–ª—å—à–µ –≤ —Ä–∞–∑–º–µ—Ä–µ —á–µ–º AVC, –±–æ–ª—å—à–µ **–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è**, **—É–ª—É—á—à–µ–Ω–Ω–æ–µ —ç–Ω—Ç—Ä–æ–ø–∏–π–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ** –∏ –±–æ–ª–µ–µ, –≤—Å–µ —ç—Ç–∏ —É–ª—É—á—à–µ–Ω–∏—è –¥–∞–ª–∏ H.265 —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∂–∏–º–∞—Ç—å –Ω–∞ 50% –±–æ–ª—å—à–µ, —á–µ–º H.264.

![h264 –ø—Ä–æ—Ç–∏–≤ h265](/i/avc_vs_hevc.png "H.264 –ø—Ä–æ—Ç–∏–≤ H.265")

# –û–Ω–ª–∞–π–Ω —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è
## –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

! [–æ–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](/i/general_architecture.png "–æ–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞")

[TODO]

## –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞

![–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞](/i/progressive_download.png "–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞")

![–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ø–æ—Ç–æ–∫](/i/adaptive_streaming.png "–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ø–æ—Ç–æ–∫")

[TODO]

## –ó–∞—â–∏—Ç–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

–ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ø—Ä–æ—Å—Ç—É—é —Å–∏—Å—Ç–µ–º—É —Ç–æ–∫–µ–Ω–æ–≤** –¥–ª—è –∑–∞—â–∏—Ç—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –ó–∞–ø—Ä–æ—Å –≤–∏–¥–µ–æ –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ –±—É–¥–µ—Ç –∑–∞–ø—Ä–µ—â–µ–Ω CDN-–æ–º, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º –º–æ–∂–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç. –û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—á—Ç–∏ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º –≤–µ–±-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

![–∑–∞—â–∏—Ç–∞ —Ç–æ–∫–µ–Ω–∞](/i/token_protection.png "token_protection")

–ò—Å–ø–æ–ª—å–∑—É—é —ç—Ç—É —Å–∏—Å—Ç–µ–º—É —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤–∏–¥–µ–æ –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å –µ–≥–æ. –ó–∞—Ç–µ–º –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É **DRM (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏)**, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ.

![drm](/i/drm.png "drm")

–í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –ª—é–¥–∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±–∞ –º–µ—Ç–æ–¥–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

### DRM
#### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã

* FPS - [**FairPlay Streaming**](https://developer.apple.com/streaming/fps/)
* PR - [**PlayReady**](https://www.microsoft.com/playready/)
* WV - [**Widevine**](http://www.widevine.com/)


#### –ö–∞–∫–æ–π?

DRM –∑—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –ø—Ä–∞–≤, —ç—Ç–æ —Å–ø–æ—Å–æ–± **–æ–±–µ—Å–ø–µ—á–∏—Ç—å –∑–∞—â–∏—Ç—É –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö –ø—Ä–∞–≤ –Ω–∞ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤** - –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ü–∏—Ñ—Ä–æ–≤–æ–µ –≤–∏–¥–µ–æ –∏ –∞—É–¥–∏–æ. –•–æ—Ç—è –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–æ –º–Ω–æ–≥–∏—Ö –º–µ—Å—Ç–∞—Ö [–æ–Ω –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã–º](https://en.wikipedia.org/wiki/Digital_rights_management#DRM-free_works).

#### –ó–∞—á–µ–º?

–°–æ–∑–¥–∞—Ç–µ–ª—å –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–≤ –æ—Å–Ω–æ–≤–Ω–æ–º, —Å—Ç—É–¥–∏–∏) —Ö–æ—Ç—è—Ç –∑–∞—â–∏—Ç–∏—Ç—å —Å–≤–æ—é –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—É—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –æ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

#### –ö–∞–∫?

–ú—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è –æ–ø–∏—Å–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—É—é –∏ –æ–±—â—É—é —Ñ–æ—Ä–º—É DRM –≤ –æ—á–µ–Ω—å —É–ø—Ä–æ—â–µ–Ω–Ω–æ–º –≤–∏–¥–µ.

–£—á–∏—Ç—ã–≤–∞—è **–∫–æ–Ω—Ç–µ–Ω—Ç C1** (—Ç.–µ. –ø–æ—Ç–æ–∫–æ–≤–æ–µ –≤–∏–¥–µ–æ hls –∏–ª–∏ dash), —Å **–ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç–µ–ª–µ–º P1** (—Ç.–µ. shaka-clappr, exo-player –∏–ª–∏ ios) –≤ **—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ D1** (—Ç.–µ. —Å–º–∞—Ä—Ç—Ñ–æ–Ω–µ , –¢–µ–ª–µ–≤–∏–∑–æ—Ä, –ø–ª–∞–Ω—à–µ—Ç –∏–ª–∏ –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä / –Ω–æ—É—Ç–±—É–∫) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **DRM —Å–∏—Å—Ç–µ–º—ã DRM1** (widevine, playready –∏–ª–∏ FairPlay).

–ö–æ–Ω—Ç–µ–Ω—Ç C1 –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω —Å –ø–æ–º–æ—â—å—é **—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ K1** –æ—Ç —Å–∏—Å—Ç–µ–º—ã DRM1, –≥–µ–Ω–µ—Ä–∏—Ä—É—è **–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç C'1**.

![drm general flow](/i/drm_general_flow.jpeg "drm general flow")

–ü—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç–µ–ª—å P1 —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ D1 –∏–º–µ–µ—Ç –¥–≤–∞ –∫–ª—é—á–∞ (–∞—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–µ): **–∑–∞–∫—Ä—ã—Ç—ã–π –∫–ª—é—á PRK1** (—ç—Ç–æ—Ç –∫–ª—é—á –∑–∞—â–∏—â–µ–Ω <sup>1</sup> –∏ –∏–∑–≤–µ—Å—Ç–µ–Ω —Ç–æ–ª—å–∫–æ **D1**) –∏ **–æ—Ç–∫—Ä—ã—Ç—ã–π –∫–ª—é—á PUK1**.

> ** <sup> 1 </ sup> –∑–∞—â–∏—â–µ–Ω **: —ç—Ç–∞ –∑–∞—â–∏—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å ** —Å –ø–æ–º–æ—â—å—é –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è **, –Ω–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ—Ç –∫–ª—é—á –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º (—Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è) —á–∏–ø–µ, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ [—á–µ—Ä–Ω—ã–π box] (https://en.wikipedia.org/wiki/Black_box), —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É, –∏–ª–∏ ** —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è ** (–º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ), —Å–∏—Å—Ç–µ–º–∞ DRM –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤–∞, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, –∫–∞–∫–æ–π —Ç–∏–ø –∑–∞—â–∏—Ç—ã –∏–º–µ–µ—Ç –¥–∞–Ω–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.


–ö–æ–≥–¥–∞ ** –∏–≥—Ä–æ–∫ P1 —Ö–æ—á–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ ** –∫–æ–Ω—Ç–µ–Ω—Ç ** C'1 **, –æ–Ω –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–µ–ª–æ —Å ** DRM-—Å–∏—Å—Ç–µ–º–æ–π DRM1 **, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–≤ —Å–≤–æ–π –æ—Ç–∫—Ä—ã—Ç—ã–π –∫–ª—é—á ** PUK1 **. DRM-—Å–∏—Å—Ç–µ–º–∞ DRM1 –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ** –∫–ª—é—á K1 –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ ** —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∫–ª—é—á–æ–º –∫–ª–∏–µ–Ω—Ç–∞ ** PUK1 **. –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏, —ç—Ç–æ—Ç –æ—Ç–≤–µ—Ç - —ç—Ç–æ —Ç–æ, —á—Ç–æ ** —Ç–æ–ª—å–∫–æ D1 —Å–ø–æ—Å–æ–±–µ–Ω —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å **.

`K1P1D1 = enc (K1, PUK1)`

**P1** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–≤–æ—é –ª–æ–∫–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É DRM (—ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å [SOC](https://en.wikipedia.org/wiki/System_on_a_chip), —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –∏–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ), —ç—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ **–º–æ–∂–µ—Ç –¥–µ—à–∏—Ñ—Ä–æ–≤–∞—Ç—å** –∫–æ–Ω—Ç–µ–Ω—Ç, –∏ –∏—Å–ø–æ–ª—å–∑—É—è —Å–≤–æ–π –∑–∞–∫—Ä—ã—Ç—ã–π –∫–ª—é—á PRK1, –º–æ–∂–µ—Ç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å **—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–π –∫–ª—é—á K1 –æ—Ç K1P1D1** –∏ **–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ C'1**. –í –ª—É—á—à–µ–º —Å–ª—É—á–∞–µ –∫–ª—é—á–∏ –Ω–µ –≤—ã—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –û–ó–£.

 ``,
 K1 = dec (K1P1D1, PRK1)

 P1.play (dec (C'1, K1))
 ``,

![–ø–æ—Ç–æ–∫ drm –¥–µ–∫–æ–¥–µ—Ä–∞](/i/drm_decoder_flow.jpeg "–ø–æ—Ç–æ–∫ drm –¥–µ–∫–æ–¥–µ—Ä–∞")

# –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Jupyter

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω **docker** –∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `./s/ start_jupyter.sh` –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –Ω–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.

# –ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏

* [DEMUXED](https://demuxed.com/) - –≤—ã –º–æ–∂–µ—Ç–µ [–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏.](Https://www.youtube.com/channel/UCIc_DkRxo9UgUSTvWVNCmpA).

# –°—Å—ã–ª–∫–∏

–ó–¥–µ—Å—å —Å–∞–º—ã–π –±–æ–≥–∞—Ç—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç, –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–æ—Ç–æ—Ä—É—é –º—ã –≤–∏–¥–µ–ª–∏ –≤ —ç—Ç–æ–º —Ç–µ–∫—Å—Ç–µ, –±—ã–ª–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∞, –æ—Å–Ω–æ–≤–∞–Ω–∞ –∏–ª–∏ –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–∞. –í—ã –º–æ–∂–µ—Ç–µ —É–≥–ª—É–±–∏—Ç—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è —Å –ø–æ–º–æ—â—å—é —ç—Ç–∏—Ö —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫, –∫–Ω–∏–≥, –≤–∏–¥–µ–æ –∏ —Ç. –¥.

–û–Ω–ª–∞–π–Ω –∫—É—Ä—Å—ã –∏ —É—á–µ–±–Ω—ã–µ –ø–æ—Å–æ–±–∏—è:

* https://www.coursera.org/learn/digital/
* https://people.xiph.org/~tterribe/pubs/lca2012/auckland/intro_to_video1.pdf
* https://xiph.org/video/vid1.shtml
* https://xiph.org/video/vid2.shtml
* http://slhck.info/ffmpeg-encoding-course
* http://www.cambridgeincolour.com/tutorials/camera-sensors.htm
* http://www.slideshare.net/vcodex/a-short-history-of-video-coding
* http://www.slideshare.net/vcodex/introduction-to-video-compression-13394338
* https://developer.android.com/guide/topics/media/media-formats.html
* http://www.slideshare.net/MadhawaKasun/audio-compression-23398426
* http://inst.eecs.berkeley.edu/~ee290t/sp04/lectures/02-Motion_Compensation_girod.pdf

Books:

* https://www.amazon.com/Understanding-Compression-Data-Modern-Developers/dp/1491961538/ref=sr_1_1?s=books&ie=UTF8&qid=1486395327&sr=1-1
* https://www.amazon.com/H-264-Advanced-Video-Compression-Standard/dp/0470516925
* https://www.amazon.com/Practical-Guide-Video-Audio-Compression/dp/0240806301/ref=sr_1_3?s=books&ie=UTF8&qid=1486396914&sr=1-3&keywords=A+PRACTICAL+GUIDE+TO+VIDEO+AUDIO
* https://www.amazon.com/Video-Encoding-Numbers-Eliminate-Guesswork/dp/0998453005/ref=sr_1_1?s=books&ie=UTF8&qid=1486396940&sr=1-1&keywords=jan+ozer

Onboarding material:

* https://github.com/Eyevinn/streaming-onboarding
* https://howvideo.works/
* https://www.aws.training/Details/eLearning?id=17775
* https://www.aws.training/Details/eLearning?id=17887
* https://www.aws.training/Details/Video?id=24750

Bitstream Specifications:

* http://www.itu.int/rec/T-REC-H.264-201610-I
* http://www.itu.int/ITU-T/recommendations/rec.aspx?rec=12904&lang=en
* https://storage.googleapis.com/downloads.webmproject.org/docs/vp9/vp9-bitstream-specification-v0.6-20160331-draft.pdf
* http://iphome.hhi.de/wiegand/assets/pdfs/2012_12_IEEE-HEVC-Overview.pdf
* http://phenix.int-evry.fr/jct/doc_end_user/current_document.php?id=7243
* http://gentlelogic.blogspot.com.br/2011/11/
